import{r as g,a as u,j as s,M as p}from"./app-MQ-yEurC.js";import{E as f}from"./EachMethod-DlQbtg5B.js";import{A as y,P as b}from"./commonFunctions-DLOGa6Ui.js";import{S as c}from"./sweetalert2.esm.all-DPJM2oV6.js";import{h as r}from"./moment-C5S46NFB.js";import{R as x}from"./ReactTable-CiiRreiS.js";import{D as j}from"./DashboardLayout-Q83-rxtQ.js";import"./polyfill-CUJIp7Lq.js";import"./index-FTPeQx5Q.js";import"./Dropdown-DtFVle0_.js";import"./transition-CQN9Mefa.js";import"./index-DzSybp8L.js";setInterval(async()=>{let m=new Date,e=r(m),a=r(m),t=e.format("hh:mm:ss A"),i=a.format("LL");$("#timers").text(t),$("#timesdates").text(i)},800);class M extends g.Component{constructor(e){super(e),this.state={class_teaching:this.props.class_teaching,events:this.props.events,userdata:this.props.auth.user,requestimg:"/adminlte/dist/assets/img/avatar.png",timeCount:"00:00:00 AM",datenow:"00/00/000 Monday",profileImageBase64:"",lrn:"",idnumber:"",fullname:"",logger_type:"",logger_section:"",data:[],columns:[{Header:"Name",width:197,accessor:"fullname",className:"text-start"},{Header:"Time Logs",accessor:"timelogs",maxWidth:800}],time_logs_status:"",time_logs_status_message:"",attendance_data:[],attendance_data_temp:[],pagenationIndex:0,scanned_code:"",scan_paused:!1,start_scanning:!1,loading_subject_fetch:!1,scan_type:"class_attendance",subject_id:"",subject_name:"",classStudentList:[],assign_students:[],student_list:[],student_attendance:[],teaching_class:[],seats:[],table_row:4,table_column:8,loaded_data:!1,schedule_day:"",schedule_time:""},this.intervals=null,this.handleFocusableElements=!0,this.eventKeys=this.eventKeys.bind(this),this.eventKeys2=this.eventKeys2.bind(this),this.queryAccounts=this.queryAccounts.bind(this),this.queryAttendanceLogs=this.queryAttendanceLogs.bind(this),this.insertLogs=this.insertLogs.bind(this),this.loadStudentClass=this.loadStudentClass.bind(this),this.speak=this.speak.bind(this),this.submitClassAttendance=this.submitClassAttendance.bind(this),this.setAttendance=this.setAttendance.bind(this),this.AlertSound=y,this.timeoutScan=null,console.log(this.props)}componentDidMount(){window.addEventListener("keydown",this.eventKeys),this.getAllTodaysTimeLogs()}paganationPosition(e){e<this.state.attendance_data_temp.length&&e>0?this.setState({pagenationIndex:e}):e==0&&this.setState({pagenationIndex:e})}async eventKeys(e,a){let t=this,i=e.key;try{if(t.timeoutScan!=null){t.setState({userdata:{},idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Please Try Again"});return}else t.setState({userdata:{},idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"",time_logs_status_message:""});if(i=="Enter"&&t.state.scanned_code!="Enter"&&t.state.scanned_code.trim()!=="")console.log(t.state.scanned_code," - aw"),t.timeoutScan=setTimeout(()=>{clearTimeout(t.timeoutScan),t.timeoutScan=null},2e3),t.queryAccounts(t.state.scanned_code),t.setState({scanned_code:""});else{let n=t.state.scanned_code+i;i==="Enter"?t.setState({scanned_code_history:"",scanned_code:""}):t.setState({scanned_code_history:n,scanned_code:n})}}catch{}}eventKeys2(e){let a=this,t=e;try{if(a.timeoutScan!=null){a.setState({userdata:{},idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Please Try Again"});return}else a.setState({userdata:{},idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"",time_logs_status_message:""});if(t.trim()!=="")a.setState({scanned_code:t,scanned_code_history:t,scan_paused:!0},()=>{a.timeoutScan=setTimeout(()=>{clearTimeout(a.timeoutScan),a.timeoutScan=null,a.setState({scan_paused:!1})},5e3),a.queryAccounts(t),a.setState({scanned_code:""})});else{let i=a.state.scanned_code+t;t==="Enter"?a.setState({scanned_code_history:"",scanned_code:""}):a.setState({scanned_code_history:i,scanned_code:i})}}catch{}}getTimeLogs(e){let a=r(new Date).format("YYYY-MM-DD");u.post("/attendance/time/logs",{qrcode:e,date:a}).then(function(t){console.log(t),typeof t.status<"u"&&t.status=="200"&&(typeof t.data<"u"&&typeof t.data.data<"u"&&t.data.data,typeof t.data<"u"&&t.data.status=="success")})}getAllTodaysTimeLogs(){let e=this,a=r(new Date).format("YYYY-MM-DD");e.state.teaching_class.length>0&&u.post("/attendance/time/today/class/timelogs",{date:a,terminal_id:`class_id_${e.state.teaching_class[0].class_id}_teacher_id_${e.state.teaching_class[0].teacher_id}`,id:e.state.teaching_class[0].id,teacher_id:e.state.teaching_class[0].teacher_id,class_id:e.state.teaching_class[0].class_id}).then(function(t){if(typeof t.status<"u"&&t.status=="200"){let i=typeof t.data<"u"&&typeof t.data.data<"u"?t.data.data:[];typeof t.data<"u"&&t.data.status=="success"&&(e.setState({attendance_data:i},()=>{}),i.length>0&&i.forEach(n=>{let l=e.state.seats,d=[];l.length>0&&l.some(o=>o.lrn==n.lrn)&&(d=l.map(o=>o.lrn===n.lrn?(n.mode=="present"?$(`.seat_${o.seat_number}`).addClass("student_chair_present"):$(`.seat_${o.seat_number}`).addClass("student_chair_absent"),{...o,status:n.mode}):{...o,status:"absent"}),e.setState({student_attendance:d}))}))}})}queryAccounts(e){let a=this;u.post("/attendance/account/find",{code:e}).then(function(t){if(console.log(t),typeof t.status<"u"&&t.status=="200"){let i=typeof t.data<"u"&&typeof t.data.data<"u"?t.data.data:{};typeof t.data<"u"&&t.data.status=="success"?(console.log("aw",i),a.state.classStudentList.length>0?a.state.classStudentList.some(n=>n.qr_code==e)?a.setState({scan_paused:!0,userdata:i,_id:i.id,lrn:typeof i.lrn<"u"?i.lrn:i.qr_code,profileImageBase64:i.picture_base64,fullname:`${i.first_name} ${i.last_name}`.toLocaleUpperCase(),idnumber:i.id,logger_type:i.type,logger_section:typeof i.section<"u"?i.section:""},()=>{a.queryAttendanceLogs(e,i)}):(a.AlertSound.denied(),a.alertMessages(),a.setState({scan_paused:!1,idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Sorry Not Allowed"}),c.fire({title:"Sorry the student is not allowed to this class",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0})):c.fire({title:"No Student added",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0})):typeof t.data<"u"&&t.data.status=="not_found"&&(a.AlertSound.denied(),a.alertMessages(),a.setState({scan_paused:!1,idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Not Found"}))}else a.AlertSound.denied(),a.alertMessages(),a.setState({scan_paused:!1,idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Sorry Please Try Again"})}).catch(function(t){console.log(t)}).finally(function(){})}queryAttendanceLogs(e,a){let t=this,i=r(new Date).format("YYYY-MM-DD");u.post("/attendance/time/logs",{qrcode:e,date:i}).then(function(n){if(typeof n.status<"u"&&n.status=="200"){if(typeof n.data<"u"&&typeof n.data.data<"u"&&n.data.data,typeof n.data<"u"&&n.data.status=="success"){let l="Time In: "+r(new Date).format("hh:mm A"),d=t.state.attendance_data.filter(_=>_._id==t.state._id),o="",h="";d.length%2==0?(l="Time In: "+r(new Date).format("hh:mm A"),o="IN",h="TIME IN."):(l="Time Out: "+r(new Date).format("hh:mm A"),o="OUT",h="TIME OUT."),d.length==0?t.insertLogs({code:e,date:i,time:r(new Date).format("hh:mm A"),mode:o,class_id:t.state.subject_id,subject_name:t.state.subject_name,subject_id:t.state.subject_id,teacher_id:t.props.auth.user.user_id},a,()=>{t.speak(`${h}. Welcome ${t.state.fullname}`),t.setState({attendance_data:[...t.state.attendance_data,{_id:t.state._id,profile_photo:t.state.profileImageBase64,fullname:t.state.fullname,nicname:"",timelogs:l,section:"Section 1",mode:o}]},()=>{t.AlertSound.success_timelogs(),b(t.state.attendance_data,t.state.pagenationIndex,4,null).Content("",_=>{typeof _<"u"?t.setState({attendance_data_temp:_}):t.setState({attendance_data_temp:_})})})}):(t.AlertSound.denied(),t.alertMessages(),t.setState({scan_paused:!1,idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Already Login"}),c.fire({title:"Already Login",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0}))}}else t.AlertSound.denied(),t.alertMessages(),t.setState({scan_paused:!1,idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Sorry Please Try Again"})})}insertLogs(e,a,t){let i=this;delete a.picture_base64,u.post("/attendance/time/new/entry/by/class",{logsdata:e,userdata:a}).then(function(n){if(console.log(n),typeof n.status<"u"&&n.status=="200"){let l=typeof n.data<"u"&&typeof n.data.data<"u"?n.data.data:{};typeof n.data<"u"&&n.data.status=="success"?(console.log("aw",l),t(),i.getAllTodaysTimeLogs(),i.alertMessages()):typeof n.data<"u"&&n.data.status=="not_found"&&(i.AlertSound.denied(),i.alertMessages(),i.setState({idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Not Found"}),t())}else i.AlertSound.denied(),i.alertMessages(),i.setState({idnumber:"",fullname:"",logger_type:"",logger_section:"",time_logs_status:"bg-danger",time_logs_status_message:"Sorry Please Try Again"}),t()}).catch(function(n){console.log(n),t()}).finally(function(){t()})}alertMessages(){let e=this,a=5e3;this.intervals!=null&&(clearTimeout(this.intervals),this.intervals=null),this.intervals=setTimeout(()=>{e.setState({lrn:"",profileImageBase64:"",requestimg:"",fullname:"",idnumber:"",logger_type:"",logger_section:"",time_logs_status:"",time_logs_status_message:""},()=>{clearTimeout(this.intervals),this.intervals=null})},a)}loadStudentClass(e){let a=this;r(new Date).format("YYYY-MM-DD"),u.post("/attendance/class/students",{id:e}).then(function(t){if(typeof t.status<"u"&&t.status=="201"){let i=typeof t.data<"u"&&typeof t.data.data<"u"?t.data.data:{};if(typeof t.data<"u"&&t.data.status=="success"){let n=[];i.class_teaching.length>0&&(i.class_teaching[0].monday=="1"&&n.push("Mon"),i.class_teaching[0].tuesday=="1"&&n.push("Tue"),i.class_teaching[0].wednesday=="1"&&n.push("Wed"),i.class_teaching[0].thursday=="1"&&n.push("Thu"),i.class_teaching[0].friday=="1"&&n.push("Fri"),i.class_teaching[0].saturday=="1"&&n.push("Sat")),a.setState({schedule_day:n.length>0?n.toString().replaceAll(","," - "):"",teaching_class:i.class_teaching,table_row:Number(i.classrooms_seats[0].number_rows),table_column:Number(i.classrooms_seats[0].number_columns),classStudentList:i.student,seats:i.classrooms_seats_assign,assign_students:i.classrooms_seats_assign,start_scanning:!0,loading_subject_fetch:!1},()=>{a.assignedStudentList()})}}})}assignedStudentList(){let e=this,a=[];this.state.assign_students.length>0&&this.state.assign_students.forEach((t,i,n)=>{if(e.state.classStudentList.some(l=>l.student_id===Number(t.student_id))===!0){let l=e.state.classStudentList.find(d=>d.student_id==t.student_id);a.push({...t,...l,seat_number:Number(t.seat_number)})}i+1==n.length&&(e.setState({seats:a,loaded_data:!0}),e.getAllTodaysTimeLogs())})}speak(e){const a=new SpeechSynthesisUtterance(e),t=speechSynthesis.getVoices();a.voice=t[1],speechSynthesis.speak(a)}submitClassAttendance(){let e=this;if(e.state.student_attendance.length==e.state.seats.length){let a=r(new Date).format("YYYY-MM-DD");c.fire({title:"If all fields are correct and please click to continue to save",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"warning",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(async t=>{if(t.isConfirmed){c.fire({title:`Saving Records.
Please wait.`,html:'<i class="fa fa-times-circle-o"></i>&nbsp;&nbsp;Close',showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{c.showLoading()}});let i={id:e.state.teaching_class[0].id,teacher_id:e.state.teaching_class[0].teacher_id,class_id:e.state.teaching_class[0].class_id,class_subject:e.state.teaching_class.length>0?e.state.teaching_class[0].subject_name:"",date:a,time:r(new Date).format("hh:mm A"),mode:"IN",type:"student",student_attendance:e.state.student_attendance};u.post("/attendance/time/new/entry/by/class",i).then(async function(n){console.log(n),typeof n.status<"u"&&n.status=="200"?(typeof n.data<"u"&&typeof n.data<"u"?n.data:{}).status=="success"?c.fire({title:"Successfuly save!",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(d){d.isConfirmed&&(c.close(),$("#teacher").val(""),$("#time_start").val(""))}):c.fire({title:"Fail to save",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0}):typeof n.status<"u"&&n.status=="200"?(typeof n.data<"u"&&typeof n.data<"u"?n.data:{}).status=="data_exist"&&c.fire({title:"Data Exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):typeof n.status<"u"&&n.status=="422"}).catch(function(n){c.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})}else t.isDismissed;return!1})}else c.fire({title:"Please complete to check all student",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}setAttendance(e,a){let t=this,i=this.state.student_attendance,n=[];i.length>0&&i.some(l=>l.student_id==a.student_id)?(n=i.map(l=>l.student_id===a.student_id?{...l,status:e,val:a}:l),t.setState({student_attendance:n})):(i.push({...a,status:e}),t.setState({student_attendance:i}))}render(){return s.jsx(j,{title:"Student",user:this.props.auth.user,profile:this.props.auth.profile,children:s.jsxs("div",{className:"noselect",children:[s.jsx(p,{title:"Attendance"}),s.jsx("div",{className:"mx-auto",children:this.state.start_scanning==!0?s.jsx("div",{className:""}):s.jsxs("div",{className:"log-center-data-mobile",children:[s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"form-group hide d-none",children:[s.jsx("label",{children:"Select Option"}),s.jsxs("select",{name:"data",disabled:!0,className:"form-control",id:"data",onChange:e=>{this.setState({scan_type:e.target.value})},children:[s.jsx("option",{value:"",children:"-- Scan Type --"}),s.jsx("option",{value:"class_attendance",children:"Class Attendance"}),s.jsx("option",{value:"event_attendance",children:"Event Attendance"})]})]}),this.state.scan_type=="class_attendance"?s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Class Subject Option"}),s.jsxs("select",{name:"subject",className:"form-control",id:"subject",onChange:e=>{let a=this.state.class_teaching.find(t=>t.id==e.target.value);this.setState({subject_id:e.target.value,subject_name:`${a.section_name} (${a.subject_name})`,start_scanning:!1,loading_subject_fetch:!0},()=>{this.loadStudentClass(e.target.value)})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx(f,{of:this.state.class_teaching,render:(e,a)=>{let t=[];return e.monday=="1"&&t.push("Mon"),e.tuesday=="1"&&t.push("Tue"),e.wednesday=="1"&&t.push("Wed"),e.thursday=="1"&&t.push("Thu"),e.friday=="1"&&t.push("Fri"),e.saturday=="1"&&t.push("Sat"),s.jsxs("option",{value:e.id,children:[`${e.section_name} (${e.subject_name}) Time: ${e.time_start} - ${e.time_end}`,"  ",e.monday==1?"Mon-":"",t.length>0?t.toString().replaceAll(","," - "):""]})}})]})]}):null,this.state.scan_type=="event_attendance"?s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Event Option"}),s.jsxs("select",{name:"subject",className:"form-control",id:"subject",onChange:e=>{this.setState({subject_id:e.target.value,subject_name:e.target.value,start_scanning:!1})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx(f,{of:this.state.events,render:(e,a)=>s.jsx("option",{value:e.id,children:`${e.event_name} (${e.date} Time: ${e.time_start} - ${e.time_end})`})})]})]}):null]}),s.jsx("div",{className:"row",children:this.state.loading_subject_fetch==!0?s.jsx("div",{className:"col-lg-12 center mt-5",children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):null})]})}),s.jsx("div",{className:"app-content",children:s.jsxs("div",{className:"container-fluid",children:[this.state.loaded_data==!0?s.jsxs("div",{className:"mx-auto mt-5",children:[s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-6",children:s.jsxs("h3",{className:"mb-0",children:[s.jsx("i",{className:"nav-icon bi bi-bookmark"})," Subject: ",s.jsx("strong",{className:"badge bg bg-primary",children:this.state.teaching_class.length>0?this.state.teaching_class[0].subject_name:""})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsx("ol",{className:"breadcrumb float-sm-end",children:s.jsxs("li",{className:"breadcrumb-item active",children:["Schedule: ",s.jsx("div",{className:"badge bg-primary",children:this.state.schedule_day}),s.jsx("div",{className:"badge bg-primary",children:this.state.teaching_class.length>0?this.state.teaching_class[0].time_start+" - "+this.state.teaching_class[0].time_end:""})]})})})]}),s.jsx("div",{className:"container text-center",children:Array.from({length:this.state.table_row}).map((e,a)=>{let t=a*this.state.table_column;return s.jsx("div",{className:"row align-items-center",children:Array.from({length:this.state.table_column}).map((i,n)=>{t++;let l=this.state.table_row*this.state.table_column-t;return s.jsx("div",{className:"col mt-3 mb-3",children:s.jsxs("center",{children:[s.jsxs("div",{className:"attendance_icons",children:[s.jsx("img",{src:"/images/student_chair.png",id:`col_${n}_row_${a}_chair`,className:`student_chair seat_${l+1}`,alt:""}),this.state.seats.length>0&&this.state.seats.find(d=>d.seat_number==l+1)!=null?s.jsx("img",{id:`picture_col_${n}_row_${a}_count`,src:`/profile/photo/student/${this.state.seats.find(d=>d.seat_number==l+1).lrn}`,onError:d=>d.target.src="/adminlte/dist/assets/img/avatar.png",className:"attendance_prof_img rounded-circle auto-margin-lr",alt:""}):null]}),this.state.seats.length>0&&this.state.seats.find(d=>d.seat_number==l+1)!=null?s.jsxs(s.Fragment,{children:[s.jsx("label",{id:`col_${n}_row_${a}_name`,className:"badge text-bg-success",children:this.state.seats.find(d=>d.seat_number==l+1).fullname}),s.jsx("br",{})]}):s.jsx(s.Fragment,{}),s.jsxs("label",{id:`col_${n}_row_${a}_count`,className:"badge text-bg-primary",children:["# ",l+1]}),s.jsxs("div",{children:[s.jsx("button",{className:"btn btn-xs btn-success",onClick:()=>{$(`#col_${n}_row_${a}_chair`).removeClass("student_chair_absent"),$(`#col_${n}_row_${a}_chair`).addClass("student_chair_present"),$(`#picture_col_${n}_row_${a}_count`).removeClass("absent_profile_picture"),$(`#picture_col_${n}_row_${a}_count`).addClass("present_profile_picture"),this.setAttendance("present",this.state.seats.find(d=>d.seat_number==l+1))},children:s.jsx("i",{className:"bi bi-check"})}),s.jsx("button",{className:"btn btn-xs btn-danger",onClick:()=>{$(`#col_${n}_row_${a}_chair`).removeClass("student_chair_present"),$(`#col_${n}_row_${a}_chair`).addClass("student_chair_absent"),$(`#picture_col_${n}_row_${a}_count`).removeClass("present_profile_picture"),$(`#picture_col_${n}_row_${a}_count`).addClass("absent_profile_picture"),this.setAttendance("absent",this.state.seats.find(d=>d.seat_number==l+1))},children:s.jsx("i",{className:"bi bi-x"})})]})]})},`seat_${a}_${n}`)})},`seat_${a}`)})})]}):s.jsx(s.Fragment,{}),this.state.loaded_data==!0?s.jsx("div",{className:"container text-center mt-5",children:s.jsx("div",{className:"row align-items-center",children:s.jsx("div",{className:"col align-self-center",children:s.jsxs("center",{children:[s.jsx("button",{className:"btn btn-lg btn-primary col-lg-1 col-md-6 col-sm-6",onClick:()=>{this.submitClassAttendance()},children:" Submit"})," ",s.jsx("br",{}),s.jsx("button",{className:"btn btn-lg btn-danger mt-1 col-lg-1 col-md-6 col-sm-6",onClick:()=>{this.setState({teaching_class:[],table_row:0,table_column:0,classStudentList:[],seats:[],assign_students:[],start_scanning:!1,loading_subject_fetch:!1,loaded_data:!1,scan_type:"class_attendance"})},children:" Back"})]})})})}):s.jsx(s.Fragment,{})]})}),s.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"attendance","data-bs-backdrop":"static",children:s.jsx("div",{className:"modal-dialog modal-fullscreen",role:"document",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title fs-5",children:"Attendance"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),s.jsx("div",{className:"modal-body m-0 p-0",children:s.jsx(x,{className:"table table-bordered table-striped ",data:this.state.attendance_data,columns:this.state.columns,showHeader:!0,showPagenation:!0,defaultPageSize:10},"react-tables")}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})}}export{M as default};
