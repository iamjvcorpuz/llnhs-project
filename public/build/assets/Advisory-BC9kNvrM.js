import{r as j,j as e,U as y}from"./app-MQ-yEurC.js";import{E as d}from"./EachMethod-DlQbtg5B.js";import{S as l}from"./sweetalert2.esm.all-DPJM2oV6.js";import{R as k}from"./ReactTable-CiiRreiS.js";import{D as w}from"./DashboardLayout-Q83-rxtQ.js";import"./index-FTPeQx5Q.js";import"./Dropdown-DtFVle0_.js";import"./transition-CQN9Mefa.js";import"./index-DzSybp8L.js";document.addEventListener("DOMContentLoaded",function(){document.addEventListener("hide.bs.modal",function(C){document.activeElement&&document.activeElement.blur()})});class L extends j.Component{constructor(a){super(a),this.state={data:this.props.advisory,subjects:this.props.subjects,teachers:this.props.teacher,advisoryList:this.props.advisory,sectionListTemp:this.props.sections,sectionList:[],yeargrade:this.props.schoolyeargrades,class:this.props.class,selected_grade:"",selected_grade_id:"",selected_section:"",selected_section_id:"",selected_teacher_name:"",selected_teacher_id:"",selected_subject:"",selected_subejct_id:"",selected_school_year:"",columns:[{id:"no",accessor:"id",Header:"No.",width:70,className:"center"},{id:"teacher",Header:"Teacher",width:200,accessor:"teacher_fullname",className:""},{id:"section",Header:"Section/Room",accessor:"section_name",width:200},{id:"year_level",Header:"Grade Level",width:200,accessor:"year_level"},{id:"Action",Header:"Status",width:150,accessor:"status",className:"center",Cell:({row:s})=>e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-danger btn-block btn-sm col-12 mb-1",onClick:()=>{this.deleteAdvisory(s.original.id)},children:[" ",e.jsx("i",{className:"bi bi-person-fill-x"})," Remove"]}),e.jsxs("button",{className:"btn btn-info btn-block btn-sm col-12",onClick:()=>{this.viewData(s.original)},children:[" ",e.jsx("i",{className:"bi bi-pen"})," Edit"]})]})}],track:this.props.track,strand:this.props.strand,selectedData:{}},this._isMounted=!1,this.saveData=this.saveData.bind(this),this.deleteAdvisory=this.deleteAdvisory.bind(this),this.getAllData=this.getAllData.bind(this),this.viewData=this.viewData.bind(this),this.updateData=this.updateData.bind(this)}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}getAllData(){let a=this;axios.get("/advisory").then(function(s){if(console.log(s),typeof s.status<"u"&&s.status=="200"){let t=typeof s.data<"u"&&typeof s.data<"u"?s.data:{};Object.keys(t).length>0&&a.setState({data:t.advisory,subjects:t.subjects,teachers:t.teacher,advisoryList:t.advisory,sectionListTemp:t.sections,sectionList:[],yeargrade:t.schoolyeargrades,track:t.track,strand:t.strand,class:t.class})}})}deleteAdvisory(a){let s=this;l.fire({title:"Are you sure to remove this data?",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Yes",confirmButtonColor:"red",icon:"question",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(t=>{t.isConfirmed?(l.fire({title:`Removing Records.
Please wait.`,showCancelButton:!1,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{l.showLoading()}}),axios.delete("/advisory",{data:{id:a}}).then(function(o){if(typeof o.status<"u"&&o.status=="201"){let n=typeof o.data<"u"&&typeof o.data<"u"?o.data:{};(n.status="sucess")?(s.getAllData(),l.fire({title:"Successfuly remove!",showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Ok",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(h){h.isConfirmed&&l.close()})):l.fire({title:"Fail to remove",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0})}else if(typeof o.status<"u"&&o.status=="200"){let n=typeof o.data<"u"&&typeof o.data<"u"?o.data:{};(n.status="data_not_exist")&&l.fire({title:"Data Not Exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}}).catch(function(o){console.log(o),l.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})):l.close()})}saveData(){let a=this,s=$("#teacher").val(),t="",o=$("#yearlevel").val(),n=$("#yearlevel").val(),h="",v=$("#sectionname").val(),f=$("#classts").val(),u=$("#schoolyear").val(),m=$("#subject").val();try{t=a.state.teachers.find(r=>r.last_name+", "+r.first_name==s).id}catch{}try{h=a.state.class.find(r=>r.grade_id==n).grade}catch(r){console.log("error",r)}if(console.log({teacher_id:t,teacher_name:s,year_level:n,grade:h,school_sections_id:f,section_name:v,schoolyear:u,subject_id:m}),t!=""&&o!=""&&f!=""&&u!=""){if($("#invalidCheck").prop("checked")==!1){$("#invalidCheck-alert").removeAttr("class"),$("#invalidCheck-alert").addClass("d-block invalid-feedback"),alert("Please check aggree to all fields are correct");return}l.fire({title:"If all fields are correct and please click to continue to save",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"warning",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(r=>{if(r.isConfirmed){l.fire({title:`Saving Records.
Please wait.`,html:'<i class="fa fa-times-circle-o"></i>&nbsp;&nbsp;Close',showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{l.showLoading()}});let x={teacher_id:t,teacher_name:s,year_level:n,grade:h,school_sections_id:f,section_name:v,schoolyear:u,subject_id:m};axios.post("/advisory",x).then(async function(i){if(typeof i.status<"u"&&i.status=="201"){let c=typeof i.data<"u"&&typeof i.data<"u"?i.data:{};c.status=="success"?l.fire({title:"Successfuly save!",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(b){b.isConfirmed&&(l.close(),$("#teacher").val(""),$("#yearlevel").val(""),$("#sectionname").val(""),$("#subject").val(""),$("#classts").val(""),$("#schoolyear").val(""),$("#flsh_strand").val(""),$("#flsh_track").val(""),$("#newAdvisory").modal("hide"),a.getAllData())}):c.status=="section_taken"?l.fire({title:"Selected room is already taken",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):c.status=="teacher_taken"?l.fire({title:"Selected teacher is already have a advisory",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):l.fire({title:"Fail to save",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0})}else if(typeof i.status<"u"&&i.status=="200"){let c=typeof i.data<"u"&&typeof i.data<"u"?i.data:{};c.status=="data_exist"?l.fire({title:"Selected advisory is already taken",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):c.status=="section_taken"?l.fire({title:"Selected room is already taken",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):c.status=="teacher_taken"&&l.fire({title:"Selected teacher is already have a advisory",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}else typeof i.status<"u"&&i.status=="422"}).catch(function(i){console.log(i),l.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})}else r.isDismissed;return!1})}else t==""&&($("#fteacher-alert").removeAttr("class"),$("#teacher-alert").html("Required Field"),$("#teacher-alert").addClass("d-block invalid-feedback")),o==""&&($("#yearlevel-alert").removeAttr("class"),$("#yearlevel-alert").html("Required Field"),$("#yearlevel-alert").addClass("d-block invalid-feedback")),f==""&&($("#section-alert").removeAttr("class"),$("#section-alert").html("Required Field"),$("#section-alert").addClass("d-block invalid-feedback")),u==""&&($("#schoolyear-alert").removeAttr("class"),$("#schoolyear-alert").html("Required Field"),$("#schoolyear-alert").addClass("d-block invalid-feedback")),m==""&&($("#subject-alert").removeAttr("class"),$("#subject-alert").html("Required Field"),$("#subject-alert").addClass("d-block invalid-feedback"))}viewData(a){this.setState({selectedData:a}),$("#eteacher").val(a.teacher_fullname),$("#eyearlevel").val(a.year_level);let t=this.state.class.filter(o=>o.grade==a.year_level)[0];$("#eclassts").val(t.id),$("#eyearlevel").val(t.level),$("#eyearlevel").val(t.grade_id),$("#eschoolyear").val(t.school_year),$("#eflsh_track").val(t.track),$("#eflsh_strand").val(t.strands),$("#esectionname").val(t.section_name),$("#eschoolyear").val(a.school_year),$("#updateAdvisory").modal("show")}updateData(){let a=this,s=$("#eteacher").val(),t="",o=$("#eyearlevel").val(),n=$("#eyearlevel").val(),h="",v=$("#esectionname").val(),f=$("#eclassts").val(),u=$("#eschoolyear").val(),m=$("#esubject").val();try{t=a.state.teachers.find(r=>r.last_name+", "+r.first_name==s).id}catch{}try{h=a.state.class.find(r=>r.grade_id==n).grade}catch(r){console.log("error",r)}if(console.log({teacher_id:t,teacher_name:s,year_level:n,grade:h,school_sections_id:f,section_name:v,schoolyear:u,subject_id:m}),t!=""&&o!=""&&f!=""&&u!=""){if($("#invalidCheck").prop("checked")==!1){$("#invalidCheck-alert").removeAttr("class"),$("#invalidCheck-alert").addClass("d-block invalid-feedback"),alert("Please check aggree to all fields are correct");return}l.fire({title:"If all fields are correct and please click to continue to save",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"warning",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(r=>{if(r.isConfirmed){l.fire({title:`Saving Records.
Please wait.`,html:'<i class="fa fa-times-circle-o"></i>&nbsp;&nbsp;Close',showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{l.showLoading()}});let x={id:a.state.selectedData.id,teacher_id:t,teacher_name:s,year_level:n,grade:h,school_sections_id:f,section_name:v,schoolyear:u,subject_id:m};axios.post("/advisory/update",x).then(async function(i){if(typeof i.status<"u"&&i.status=="201"){let c=typeof i.data<"u"&&typeof i.data<"u"?i.data:{};c.status=="success"?l.fire({title:"Successfuly save!",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(b){b.isConfirmed&&(l.close(),$("#eteacher").val(""),$("#eyearlevel").val(""),$("#esectionname").val(""),$("#esubject").val(""),$("#eclassts").val(""),$("#eschoolyear").val(""),$("#eflsh_strand").val(""),$("#eflsh_track").val(""),$("#updateAdvisory").modal("hide"),a.getAllData())}):c.status=="section_taken"?l.fire({title:"Selected room is already taken",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):c.status=="teacher_taken"?l.fire({title:"Selected teacher is already have a advisory",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):l.fire({title:"Fail to save",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0})}else if(typeof i.status<"u"&&i.status=="200"){let c=typeof i.data<"u"&&typeof i.data<"u"?i.data:{};c.status=="data_not_exist"?l.fire({title:"Selected advisory is not exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):c.status=="section_taken"?l.fire({title:"Selected room is already taken",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):c.status=="teacher_taken"&&l.fire({title:"Selected teacher is already have a advisory",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}else typeof i.status<"u"&&i.status=="422"}).catch(function(i){console.log(i),l.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})}else r.isDismissed;return!1})}else t==""&&($("#fteacher-alert").removeAttr("class"),$("#teacher-alert").html("Required Field"),$("#teacher-alert").addClass("d-block invalid-feedback")),o==""&&($("#yearlevel-alert").removeAttr("class"),$("#yearlevel-alert").html("Required Field"),$("#yearlevel-alert").addClass("d-block invalid-feedback")),f==""&&($("#section-alert").removeAttr("class"),$("#section-alert").html("Required Field"),$("#section-alert").addClass("d-block invalid-feedback")),u==""&&($("#schoolyear-alert").removeAttr("class"),$("#schoolyear-alert").html("Required Field"),$("#schoolyear-alert").addClass("d-block invalid-feedback")),m==""&&($("#subject-alert").removeAttr("class"),$("#subject-alert").html("Required Field"),$("#subject-alert").addClass("d-block invalid-feedback"))}render(){return e.jsxs(w,{title:"Subject",user:this.props.auth.user,children:[e.jsx("div",{className:"app-content-header",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("h3",{className:"mb-0",children:[e.jsx("i",{className:"nav-icon bi bi-book-half"})," Teacher's Advisory"]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("ol",{className:"breadcrumb float-sm-end",children:[e.jsxs("li",{className:"breadcrumb-item",children:[" ",e.jsx("i",{className:"bi bi-speedometer mr-2"}),e.jsx(y,{href:"/admin/dashboard",children:"Dashboard"})]}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Advisory"})]})})]})})}),e.jsx("div",{className:"app-content",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title  mt-2",children:[" ",e.jsx("i",{className:"bi bi-person-lines-fill"})," List"]}),e.jsxs("button",{className:"btn btn-primary float-right mr-1",onClick:()=>{this.setState({sectionList:this.state.sectionListTemp.filter(a=>a.year_grade_id==1)}),$("#newAdvisory").modal("show")},children:[" ",e.jsx("i",{className:"bi bi-plus"})," Add"]})]}),e.jsx("div",{className:"card-body",children:e.jsx(k,{className:"table table-bordered table-striped ",data:this.state.data,columns:this.state.columns},"react-tables")})]})})})})}),e.jsx("datalist",{id:"selectedTeacher",children:e.jsx(d,{of:this.state.teachers,render:(a,s)=>e.jsx("option",{children:`${a.last_name}, ${a.first_name}`})})}),e.jsx("datalist",{id:"selectedYearLevel",children:e.jsx(d,{of:this.state.yeargrade,render:(a,s)=>e.jsx("option",{children:`${a.year_grade}`})})}),e.jsx("datalist",{id:"selectedSection",children:e.jsx(d,{of:this.state.sectionList,render:(a,s)=>e.jsx("option",{children:`${a.section_name}`})})}),e.jsx("datalist",{id:"selectedSY",children:e.jsx("option",{children:"2025 - 2026"})}),e.jsx("datalist",{id:"selectedSubject",children:e.jsx(d,{of:this.state.teachers,render:(a,s)=>e.jsx("option",{children:`${a.last_name}, ${a.first_name}`})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"newAdvisory","aria-hidden":"false","aria-modal":"true","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"New Advisory"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"teacher",className:"form-label",children:"Teacher"}),e.jsx("input",{type:"search",className:"form-control",list:"selectedTeacher",id:"teacher",defaultValue:"",required:"",onChange:a=>{$("#teacher-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedTeacher:a.target.value})}}),e.jsx("div",{id:"teacher-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"classts",className:"form-label",children:"Classroom"}),e.jsxs("select",{name:"classts",id:"classts",className:"form-control",onChange:a=>{if($("#teacher-alert").removeAttr("class").addClass("invalid-feedback"),$("#section").val(""),a.target.value!=""){let s=this.state.class.filter(t=>t.id==a.target.value)[0];$("#yearlevel").val(s.level),$("#yearlevel").val(s.grade_id),$("#schoolyear").val(s.school_year),$("#flsh_track").val(s.track),$("#flsh_strand").val(s.strands),$("#sectionname").val(s.section_name)}},children:[e.jsx("option",{disabled:!0,children:"--Select Classroom--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.class,render:(a,s)=>e.jsxs("option",{value:`${a.id}`,children:[`${a.section_name} (Room:${a.classroom})`,"   "]})})]}),e.jsx("div",{id:"classts-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"yearlevel",className:"form-label",children:"Grade"}),e.jsxs("select",{name:"yearlevel",id:"yearlevel",className:"form-control","aria-readonly":!0,onChange:a=>{$("#teacher-alert").removeAttr("class").addClass("invalid-feedback"),$("#section").val(""),console.log(a.target.value),a.target.value!=""},children:[e.jsx("option",{disabled:!0,children:"--Select Grade--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.yeargrade,render:(a,s)=>e.jsx("option",{value:`${a.id}`,children:`${a.year_grade}`})})]}),e.jsx("div",{id:"yearlevel-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"sectionname",className:"form-label",children:"Section Name"}),e.jsx("input",{type:"text",className:"form-control",id:"sectionname",defaultValue:"",required:"",onChange:a=>{$("#sectionname-alert").removeAttr("class").addClass("invalid-feedback")}}),e.jsx("div",{id:"sectionname-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"schoolyear",className:"form-label",children:"School Year"}),e.jsx("input",{type:"text",className:"form-control",list:"selectedSY",id:"schoolyear",defaultValue:"",required:"",onChange:a=>{$("#schoolyear-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedSY:a.target.value})}}),e.jsx("div",{id:"schoolyear-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"flsh_track",className:"form-label",children:"Track"}),e.jsxs("select",{name:"flsh_track",id:"flsh_track",className:"form-control",onChange:a=>{$("#flsh_track-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_track:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.track,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"flsh_track-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"flsh_strand",className:"form-label",children:"Strand"}),e.jsxs("select",{name:"flsh_strand",id:"flsh_strand",className:"form-control",onChange:a=>{$("#flsh_strand-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_strand:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.strand,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"flsh_strand-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),e.jsxs("select",{className:"form-select",id:"subject",required:"",onChange:a=>{$("#subject-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedSubject:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"Choose..."}),e.jsx("option",{}),e.jsx(d,{of:this.state.subjects,render:(a,s)=>e.jsx("option",{value:a.id,children:a.subject_name})})]}),e.jsx("div",{id:"subject-alert",className:"invalid-feedback",children:"Please select a valid state."})]})]})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{className:"btn btn-success float-right mr-1",onClick:()=>{this.saveData()},children:[" ",e.jsx("i",{className:"bi bi-save"})," Save"]}),e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"updateAdvisory","aria-hidden":"true","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"Edit Advisory"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"eteacher",className:"form-label",children:"Teacher"}),e.jsx("input",{type:"search",className:"form-control",list:"selectedTeacher",id:"eteacher",defaultValue:"",required:"",onChange:a=>{$("#teacher-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedTeacher:a.target.value})}}),e.jsx("div",{id:"teacher-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"classts",className:"form-label",children:"Classroom"}),e.jsxs("select",{name:"classts",id:"eclassts",className:"form-control",onChange:a=>{if($("#teacher-alert").removeAttr("class").addClass("invalid-feedback"),$("#esection").val(""),a.target.value!=""){let s=this.state.class.filter(t=>t.id==a.target.value)[0];$("#eyearlevel").val(s.level),$("#eyearlevel").val(s.grade_id),$("#eschoolyear").val(s.school_year),$("#eflsh_track").val(s.track),$("#eflsh_strand").val(s.strands),$("#esectionname").val(s.section_name)}},children:[e.jsx("option",{disabled:!0,children:"--Select Classroom--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.class,render:(a,s)=>e.jsxs("option",{value:`${a.id}`,children:[`${a.section_name} (Room:${a.classroom})`,"   "]})})]}),e.jsx("div",{id:"classts-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"yearlevel",className:"form-label",children:"Grade"}),e.jsxs("select",{name:"eyearlevel",id:"eyearlevel",className:"form-control","aria-readonly":!0,onChange:a=>{$("#teacher-alert").removeAttr("class").addClass("invalid-feedback"),$("#esection").val(""),a.target.value!=""},children:[e.jsx("option",{disabled:!0,children:"--Select Grade--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.yeargrade,render:(a,s)=>e.jsx("option",{value:`${a.id}`,children:`${a.year_grade}`})})]}),e.jsx("div",{id:"yearlevel-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"esectionname",className:"form-label",children:"Section Name"}),e.jsx("input",{type:"text",className:"form-control",id:"esectionname",defaultValue:"",required:"",onChange:a=>{$("#sectionname-alert").removeAttr("class").addClass("invalid-feedback")}}),e.jsx("div",{id:"sectionname-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"eschoolyear",className:"form-label",children:"School Year"}),e.jsx("input",{type:"text",className:"form-control",list:"selectedSY",id:"eschoolyear",defaultValue:"",required:"",onChange:a=>{$("#schoolyear-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedSY:a.target.value})}}),e.jsx("div",{id:"schoolyear-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"flsh_track",className:"form-label",children:"Track"}),e.jsxs("select",{name:"eflsh_track",id:"eflsh_track",className:"form-control",onChange:a=>{$("#flsh_track-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_track:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.track,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"flsh_track-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"flsh_strand",className:"form-label",children:"Strand"}),e.jsxs("select",{name:"eflsh_strand",id:"eflsh_strand",className:"form-control",onChange:a=>{$("#flsh_strand-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_strand:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.strand,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"flsh_strand-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"esubject",className:"form-label",children:"Subject"}),e.jsxs("select",{className:"form-select",id:"esubject",required:"",onChange:a=>{$("#subject-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedSubject:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"Choose..."}),e.jsx("option",{}),e.jsx(d,{of:this.state.subjects,render:(a,s)=>e.jsx("option",{value:a.id,children:a.subject_name})})]}),e.jsx("div",{id:"subject-alert",className:"invalid-feedback",children:"Please select a valid state."})]})]})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{className:"btn btn-success float-right mr-1",onClick:()=>{this.updateData()},children:[" ",e.jsx("i",{className:"bi bi-save"})," Update"]}),e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})})]})}}export{L as default};
