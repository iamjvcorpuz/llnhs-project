var p=Object.defineProperty;var b=(r,d,a)=>d in r?p(r,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[d]=a;var f=(r,d,a)=>b(r,typeof d!="symbol"?d+"":d,a);import{r as x,j as e,R as C,a as c,U as u}from"./app-MQ-yEurC.js";import{E as h}from"./EachMethod-DlQbtg5B.js";import{S as i}from"./sweetalert2.esm.all-DPJM2oV6.js";import{h as v}from"./moment-C5S46NFB.js";import{R as g}from"./ReactTable-CiiRreiS.js";import{D as j}from"./DashboardLayout-Q83-rxtQ.js";import{Q as N}from"./index-B9Tcu3qw.js";import{W as k}from"./react-webcam-C_JsNYoc.js";import{I as w}from"./ImageCrop-BhIjMigO.js";import"./index-FTPeQx5Q.js";import"./Dropdown-DtFVle0_.js";import"./transition-CQN9Mefa.js";import"./index-DzSybp8L.js";class I extends x.Component{constructor(a){super(a);f(this,"getBase64",(a,t)=>{let n=new FileReader;n.readAsDataURL(a),n.onload=function(){t(n.result)},n.onerror=function(s){console.log("Error: ",s)}});f(this,"onFileChange",a=>{if($(".progress-bar").css("width","0%"),a.target.files.length){const{name:t,type:n}=a.target.files[0];let s="pdf";n=="application/pdf"?s="pdf":n=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n=="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?s="docs":(n=="image/png"||n=="image/jpeg")&&(s="image"),this.getBase64(a.target.files[0],l=>{this.setState({photoupload:l,filedata:l,filedataName:t,filetype:n,filetype_:s})}),$("#fileuploadpanel").modal("show")}});this.state={id:"",photoupload:"",photobase64:"",photobase64final:"",lrn:"",psa_cert_no:"",qrcode:"",first_name:"",last_name:"",middle_name:"",extension_name:"",sex:"",bdate:"",status:"",email:"",address:"",contact_list:[],filedata:null,filedataName:"",filetype:"",filetype_:"",cameraOn:!1,bdate_max:v(new Date).subtract("years",15).format("YYYY-MM-DD"),data:[],columns:[{id:"no",accessor:"index",Header:"No.",width:50,className:"center"},{id:"fullname",Header:"Fullname",width:800,accessor:"fullname"},{id:"Status",Header:"Status",width:150,accessor:"status",className:"center"},{id:"action",Header:"Action",width:200,accessor:"index",className:"center",Cell:({row:t})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:"btn btn-primary btn-block btn-sm col-12 mb-1",onClick:()=>{this.updateMessenger(t.original)},children:[" ",e.jsx("i",{className:"bi bi-plus"})," Add"]})})}]},this.webCam=C.createRef(),this.updateCrop=this.updateCrop.bind(this),this.getFBList=this.getFBList.bind(this),this.fetchFBList=this.fetchFBList.bind(this),this.updateMessenger=this.updateMessenger.bind(this),this._isMounted=!1}componentDidMount(){this._isMounted=!0,console.log(this.props),this.setState({photobase64final:this.props.parents.picture_base64!=null?this.props.parents.picture_base64:"/adminlte/dist/assets/img/avatar.png",...this.props.parents,lrn:this.props.parents.qr_code,contact_list:this.props.contacts,parents_id:this.props.parents.id,address:this.props.parents.current_address}),this.getFBList()}updateCrop(a){this.setState({photobase64final:a})}saveData(){let a=this;if(a.state.first_name!=""&&a.state.middle_name!=""&&a.state.last_name!=""&&a.state.sex!=""&&a.state.bdate!=""&&a.state.lrn!=""){if($("#invalidCheck").prop("checked")==!1){$("#invalidCheck-alert").removeAttr("class"),$("#invalidCheck-alert").addClass("d-block invalid-feedback"),alert("Please check aggree to all fields are correct");return}i.fire({title:"If all fields are correct and please click to continue to save",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"warning",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(t=>{if(t.isConfirmed){i.fire({title:`Submitting Records.
Please wait.`,html:'<i class="fa fa-times-circle-o"></i>&nbsp;&nbsp;Close',showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{i.showLoading()}});let n={id:a.state.id,qr_code:a.state.lrn,first_name:a.state.first_name,last_name:a.state.last_name,middle_name:a.state.middle_name,extension_name:a.state.extension_name,bdate:a.state.bdate,status:"active",picture_base64:a.state.photobase64final,email:a.state.email,sex:a.state.sex,current_address:a.state.address,contact_list:a.state.contact_list};c.post("/parents/update",n).then(async function(s){if(typeof s.status<"u"&&s.status=="201"){let l=typeof s.data<"u"&&typeof s.data<"u"?s.data:{};(l.status="sucess")?(a.state.contact_list.forEach(async o=>{c.post("/contacts",{type:null,student_id:null,teacher_id:s.data.data.id,guardian_id:null,phone_number:o.phone_number,telephone_number:o.phone_number}).then(function(m){typeof m.status<"u"&&m.status=="201"})}),i.fire({title:"Successfuly save!",showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(o){o.isConfirmed&&(i.close(),document.getElementById("cancel").click())})):i.fire({title:"Fail to save",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0})}else typeof s.status<"u"&&s.status=="200"?(typeof s.data<"u"&&typeof s.data<"u"?s.data:{}).status=="data_exist"&&i.fire({title:"Data Exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):typeof s.status<"u"&&s.status=="422"}).catch(function(s){s?(s.status=="422"&&i.fire({title:"Required Field Error",showCancelButton:!1,showConfirmButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Ok",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}),typeof s.response.data.errors.current_address<"u"&&($("#address-alert").removeAttr("class"),$("#address-alert").html("Required Field"),$("#address-alert").addClass("d-block invalid-feedback")),typeof s.response.data.errors.first_name<"u"&&($("#first-name-alert").removeAttr("class"),$("#first-name-alert").html("Required Field"),$("#first-name-alert").addClass("d-block invalid-feedback")),typeof s.response.data.errors.middle_name<"u"&&($("#middle-name-alert").removeAttr("class"),$("#middle-name-alert").html("Required Field"),$("#middle-name-alert").addClass("d-block invalid-feedback")),typeof s.response.data.errors.last_name<"u"&&($("#last-name-alert").removeAttr("class"),$("#last-name-alert").html("Required Field"),$("#last-name-alert").addClass("d-block invalid-feedback")),typeof s.response.data.errors.bdate<"u"&&($("#bdate-alert").removeAttr("class"),$("#bdate-alert").html("Required Field"),$("#bdate-alert").addClass("d-block invalid-feedback"))):i.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})}else t.isDismissed;return!1})}else a.state.first_name==""&&($("#first-name-alert").removeAttr("class"),$("#first-name-alert").html("Required Field"),$("#first-name-alert").addClass("d-block invalid-feedback")),a.state.middle_name==""&&($("#middle-name-alert").removeAttr("class"),$("#middle-name-alert").html("Required Field"),$("#middle-name-alert").addClass("d-block invalid-feedback")),a.state.last_name==""&&($("#last-name-alert").removeAttr("class"),$("#last-name-alert").html("Required Field"),$("#last-name-alert").addClass("d-block invalid-feedback")),a.state.sex==""&&($("#sex-alert").removeAttr("class"),$("#sex-alert").html("Required Field"),$("#sex-alert").addClass("d-block invalid-feedback")),a.state.bdate==""&&($("#bdate-alert").removeAttr("class"),$("#bdate-alert").html("Required Field"),$("#bdate-alert").addClass("d-block invalid-feedback")),a.state.lrn==""&&($("#lrn-alert").removeAttr("class"),$("#lrn-alert").html("Required Field"),$("#lrn-alert").addClass("d-block invalid-feedback"))}getFBList(){let a=this;c.post("/messenger/recepient").then(function(t){if(typeof t.status<"u"&&t.status=="200"){let n=typeof t.data<"u"&&typeof t.data.data<"u"?t.data.data:[];a.setState({data:n})}}).catch(function(t){}).finally(function(){})}fetchFBList(){let a=this;c.post("/messenger/recepient/sync").then(function(t){typeof t.status<"u"&&t.status=="200"&&(typeof t.data<"u"&&typeof t.data.data<"u"&&t.data.data,a.getFBList())}).catch(function(t){}).finally(function(){})}updateMessenger(a){console.log(a);try{let t=this,n={dmode:typeof a.dmode<"u"?a.dmode:"update",id:t.state.id,messenger_name:a.fullname,messenger_id:a.fb_id,messenger_email:a.email,contact_id:t.state.contact_list[0].id,contact_list:t.state.contact_list};i.fire({title:"To pair this messenger account to parent account click to continue to connect or pair",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"warning",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(s=>(s.isConfirmed?(i.fire({title:"Please wait.",html:'<i class="fa fa-times-circle-o"></i>&nbsp;&nbsp;Close',showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{i.showLoading()}}),c.post("/parents/update/messenger",n).then(async function(l){typeof l.status<"u"&&l.status=="201"?(typeof l.data<"u"&&typeof l.data<"u"?l.data:{}).status=="success"?i.fire({title:"Successfuly save!",showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(m){m.isConfirmed&&(i.close(),$("#fbmessenger").modal("hide"),window.location.reload())}):i.fire({title:"Fail to save",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0}):typeof l.status<"u"&&l.status=="200"?(typeof l.data<"u"&&typeof l.data<"u"?l.data:{}).status=="data_exist"&&i.fire({title:"Data Exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):typeof l.status<"u"&&l.status=="422"}).catch(function(l){l?l.status=="422"&&i.fire({title:"Required Field Error",showCancelButton:!1,showConfirmButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Ok",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}):i.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})):s.isDismissed,!1))}catch{i.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}}render(){return e.jsx(j,{title:"New Teacher",user:this.props.auth.user,children:e.jsxs("div",{className:"noselect",children:[e.jsx("div",{className:"app-content-header",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("h3",{className:"mb-0",children:[e.jsx("i",{className:"nav-icon bi bi-person-lines-fill"})," Parents / Guardian"]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("ol",{className:"breadcrumb float-sm-end",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(u,{href:"/admin/dashboard",children:"Dashboard"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(u,{href:"/admin/dashboard/parents",children:"Parents / Guardian"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"New Account"})]})})]})})}),e.jsx("div",{className:"app-content",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title mt-2",children:[" ",e.jsx("i",{className:"bi bi-person"})," Update Account"]}),e.jsxs(u,{href:"/admin/dashboard/parents",id:"cancel",className:"btn btn-danger float-right",children:[" ",e.jsx("i",{className:"bi bi-person-fill-x"})," Cancel"]}),e.jsxs("button",{className:"btn btn-success float-right mr-1",onClick:()=>{this.saveData()},children:[" ",e.jsx("i",{className:"bi bi-person-plus-fill"})," Save"]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("div",{className:"col-md-12",children:e.jsx("img",{className:"photo-upload border_shadow",src:this.state.photobase64final!=""?this.state.photobase64final:"/adminlte/dist/assets/img/avatar.png",ref:a=>this.upload_view_image=a,onError:a=>{this.upload_view_image.src="/adminlte/dist/assets/img/avatar.png"},alt:"Picture Error"})}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"file",className:"form-control",id:"inputGroupFile02",onChange:this.onFileChange}),e.jsx("span",{className:"input-group-text",htmlFor:"inputGroupFile02",onClick:()=>{this.setState({cameraOn:!0}),$("#camerapanel").modal("show")},children:e.jsx("i",{className:"bi bi-camera"})})]})]}),e.jsxs("div",{className:"col-md-8 d-flex flex-column justify-content-end",children:[e.jsx(N,{value:this.state.lrn,size:256,style:{height:"170px",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"}),e.jsx("label",{htmlFor:"lrn",className:"form-label ",children:"Identification Number"}),e.jsx("input",{type:"text",className:"form-control",id:"lrn",value:this.state.lrn,required:"",onChange:a=>{$("#lrn-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({lrn:a.target.value})}}),e.jsx("span",{id:"lrn-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"first_name",className:"form-label",children:"First name"}),e.jsx("input",{type:"text",className:"form-control",id:"first_name",value:this.state.first_name,required:"",onChange:a=>{$("#first-name-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({first_name:a.target.value})}}),e.jsx("div",{id:"first-name-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"middle_name",className:"form-label",children:"Middle name"}),e.jsx("input",{type:"text",className:"form-control",id:"middle_name",value:this.state.middle_name,required:"",onChange:a=>{$("#middle-name-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({middle_name:a.target.value})}}),e.jsx("div",{id:"middle-name-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"last_name",className:"form-label",children:"Last name"}),e.jsx("input",{type:"text",className:"form-control",id:"last_name",value:this.state.last_name,required:"",onChange:a=>{$("#last-name-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({last_name:a.target.value})}}),e.jsx("div",{id:"last-name-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"extension_name",className:"form-label",children:"Extension name"}),e.jsxs("select",{className:"form-select",id:"extension_name",required:"",defaultValue:this.state.extension_name,onChange:a=>{$("#extension-name-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({extension_name:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"Choose..."}),e.jsx("option",{}),e.jsx("option",{children:"Jr."}),e.jsx("option",{children:"Sr."}),e.jsx("option",{children:"II"}),e.jsx("option",{children:"III"}),e.jsx("option",{children:"VI"}),e.jsx("option",{children:"V"})]}),e.jsx("div",{id:"extension-name-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"gender",className:"form-label",children:"Gender"}),e.jsxs("select",{className:"form-select",id:"gender",required:"",value:this.state.sex,onChange:a=>{$("#sex-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({sex:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"Choose..."}),e.jsx("option",{}),e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Female"})]}),e.jsx("div",{id:"sex-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"bdate",className:"form-label",children:"Birth Date"}),e.jsx("input",{type:"date",className:"form-control",id:"bdate",defaultValue:this.state.bdate,required:"",max:this.state.bdate_max,onChange:a=>{$("#bdate-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({bdate:a.target.value})}}),e.jsx("div",{id:"bdate-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{htmlFor:"bdate",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"email",defaultValue:this.state.email,required:"",onChange:a=>{$("#email-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({email:a.target.value})}}),e.jsx("div",{id:"email-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"bdate",className:"form-label",children:"Current Address"}),e.jsx("input",{type:"text",className:"form-control",id:"address",defaultValue:this.state.current_address,required:"",onChange:a=>{$("#address-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({address:a.target.value})}}),e.jsx("div",{id:"address-alert",className:"valid-feedback",children:"Looks good!"})]})]}),e.jsxs("div",{className:"col-lg-12",children:[e.jsx("hr",{}),e.jsx("h5",{className:"badge fs-5 bg-primary text-start d-block",children:"Contacts"}),e.jsxs("div",{className:"row",children:[e.jsx(h,{of:this.state.contact_list,render:(a,t)=>e.jsxs("div",{className:"input-group ",children:[e.jsx("div",{className:"input-group-prepend col-lg-5",children:e.jsx("div",{htmlFor:"lglv",className:"input-group-text",children:a.phone_number})}),e.jsx("button",{className:"btn btn-danger",onClick:()=>{},children:"Remove"})]})}),e.jsx(h,{of:this.state.contact_list,render:(a,t)=>a.messenger_name!=""&&a.messenger_name!=null?e.jsxs("div",{className:"input-group ",children:[e.jsx("div",{className:"input-group-prepend col-lg-5",children:e.jsxs("div",{htmlFor:"lglv",className:"input-group-text",children:[e.jsx("i",{className:"bi bi-facebook"}),"Â ",a.messenger_name]})}),e.jsx("button",{className:"btn btn-danger",onClick:()=>{this.updateMessenger({fullname:"",fb_id:"",email:"",dmode:"remove"})},children:"Remove"})]}):null})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:`${this.state.contact_list.length>0?"form-inline col-lg-6 pt-2":"form-inline col-lg-2"}`,children:[e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("div",{htmlFor:"lglv",className:"input-group-text",children:"Phone Number : "})}),e.jsx("input",{type:"number",className:"form-control",id:"phonenumber",maxLength:12,defaultValue:"",placeholder:"09000000000",required:""}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{let a=this.state.contact_list,t=$("#phonenumber").val();t!=""&&a.some(n=>n.phone_number==t)==!1?(a.push({id:null,type:null,student_id:null,teacher_id:null,guardian_id:null,phone_number:$("#phonenumber").val(),telephone_number:null,status:""}),this.setState({contact_list:a})):t!=""&&i.fire({title:"Sorry already added",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})},children:"Add"})]}),e.jsx("br",{}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{$("#fbmessenger").modal("show")},children:"Add Messenger"})]})})]}),e.jsx("div",{className:"col-12 pt-3",children:e.jsxs("div",{className:"form-check float-right",children:[e.jsx("br",{}),e.jsx("input",{className:"form-check-input",type:"checkbox",defaultValue:"",id:"invalidCheck",required:""}),e.jsx("label",{className:"form-check-label",htmlFor:"invalidCheck",children:"Agree to all fields are correct"}),e.jsx("div",{id:"invalidCheck-alert",className:"invalid-feedback",children:"You must agree before submitting."})]})})]}),e.jsxs("div",{className:"card-footer",children:[e.jsxs(u,{href:"/admin/dashboard/parents",id:"cancel",className:"btn btn-danger float-right",children:[" ",e.jsx("i",{className:"bi bi-person-fill-x"})," Cancel"]}),e.jsxs("button",{className:"btn btn-success float-right mr-1",onClick:()=>{this.saveData()},children:[" ",e.jsx("i",{className:"bi bi-person-plus-fill"})," Save"]})]})]})})})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"fileuploadpanel","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"Image"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx(w,{src:this.state.photoupload,onChange:this.updateCrop})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"camerapanel","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"Camera Capture"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal",onClick:()=>{this.setState({cameraOn:!1})},"aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:this.state.cameraOn==!0?e.jsx(k,{className:"webcam",audio:!1,screenshotFormat:"image/jpeg",videoConstraints:{width:600,height:600,facingMode:"user"},mirrored:!0,screenshotQuality:1,imageSmoothing:!0,ref:this.webCam}):null}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{this.setState({cameraOn:!1})},"data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{try{this.setState({photoupload:this.webCam.current.getScreenshot({width:400,height:400}),cameraOn:!1},()=>{$("#camerapanel").modal("hide"),$("#fileuploadpanel").modal("show")})}catch{alert("Pleasse try again")}},children:"Capture"})]})]})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"fbmessenger","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title fs-5",children:[e.jsx("i",{className:"bi bi-facebook"})," Messenger"]}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal",onClick:()=>{this.setState({cameraOn:!1})},"aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx(g,{className:"table table-bordered table-striped ",data:this.state.data,columns:this.state.columns},"react-tables")}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-info",onClick:()=>{this.fetchFBList()},children:"Fetch "}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{this.setState({cameraOn:!1})},"data-bs-dismiss":"modal",children:"Close"})]})]})})})]})})}}export{I as default};
