import{r,j as e}from"./app-MQ-yEurC.js";import{E as d}from"./EachMethod-DlQbtg5B.js";import"./sweetalert2.esm.all-DPJM2oV6.js";import"./index-FTPeQx5Q.js";import"./Dropdown-DtFVle0_.js";import"./index-DzSybp8L.js";import{Q as i}from"./browser-Bt5TlLty.js";import"./transition-CQN9Mefa.js";class b extends r.Component{constructor(s){super(s),this.state={data:[]},$("body").attr("class",""),this.generateQR=this.generateQR.bind(this),this.loadData=this.loadData.bind(this),console.log(this.props)}componentDidMount(){}loadData(s){let a=this,t=[];s=="Teacher"?t=this.props.teacher:s=="Student"?t=this.props.student:s=="Employee"&&(t=this.props.employee),this.setState({data:t},()=>{a.state.data.forEach(async o=>{console.log(o.qr_code),await a.generateQR(o.qr_code)})})}async generateQR(s){try{let a=await i.toDataURL(s,{errorCorrectionLevel:"H",width:500});return console.log(s),$(`#${s}`).attr("src",a),""}catch(a){return console.log(a),""}}render(){return e.jsxs("div",{className:"",style:{background:"white",textAlign:"center"},children:[e.jsxs("select",{name:"data",className:"form-control",id:"data",onChange:s=>{this.loadData(s.target.value)},children:[e.jsx("option",{disabled:!0,children:"-- Select Type --"}),e.jsx("option",{value:""}),e.jsx("option",{value:"Teacher",children:"Teacher"}),e.jsx("option",{value:"Student",children:"Student"}),e.jsx("option",{value:"Employee",children:"Employee"})]}),e.jsx(d,{of:this.state.data,render:(s,a)=>e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"qr-code ",children:e.jsxs("div",{className:"qr-code-content",children:[e.jsx("div",{className:"center",children:e.jsxs("strong",{children:[s.last_name,", ",s.first_name]})}),e.jsx("img",{id:s.qr_code,className:"mx-auto",onClick:t=>{$("#qrfile").modal("show"),$("#viewqr").attr("src",t.target.src)}})]})}),e.jsx("hr",{})]})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"qrfile","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog modal-fullscreen",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"QR Code"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body m-0 p-0",children:e.jsx("img",{id:"viewqr",className:"mx-auto"})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})}}export{b as default};
