var Fe={},Y={},Zt;function He(){if(Zt)return Y;Zt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.compactObject=$,Y.deprecated=H,Y.detectBrowser=K,Y.disableLog=S,Y.disableWarnings=M,Y.extractVersion=_,Y.filterStats=v,Y.log=V,Y.walkStats=m,Y.wrapPeerConnectionEvent=O;function i(l,c,g){return c=h(c),c in l?Object.defineProperty(l,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[c]=g,l}function h(l){var c=b(l,"string");return P(c)=="symbol"?c:c+""}function b(l,c){if(P(l)!="object"||!l)return l;var g=l[Symbol.toPrimitive];if(g!==void 0){var w=g.call(l,c);if(P(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}function P(l){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},P(l)}var f=!0,T=!0;function _(l,c,g){var w=l.match(c);return w&&w.length>=g&&parseInt(w[g],10)}function O(l,c,g){if(l.RTCPeerConnection){var w=l.RTCPeerConnection.prototype,D=w.addEventListener;w.addEventListener=function(A,R){if(A!==c)return D.apply(this,arguments);var G=function(ce){var B=g(ce);B&&(R.handleEvent?R.handleEvent(B):R(B))};return this._eventMap=this._eventMap||{},this._eventMap[c]||(this._eventMap[c]=new Map),this._eventMap[c].set(R,G),D.apply(this,[A,G])};var j=w.removeEventListener;w.removeEventListener=function(A,R){if(A!==c||!this._eventMap||!this._eventMap[c])return j.apply(this,arguments);if(!this._eventMap[c].has(R))return j.apply(this,arguments);var G=this._eventMap[c].get(R);return this._eventMap[c].delete(R),this._eventMap[c].size===0&&delete this._eventMap[c],Object.keys(this._eventMap).length===0&&delete this._eventMap,j.apply(this,[A,G])},Object.defineProperty(w,"on"+c,{get:function(){return this["_on"+c]},set:function(R){this["_on"+c]&&(this.removeEventListener(c,this["_on"+c]),delete this["_on"+c]),R&&this.addEventListener(c,this["_on"+c]=R)},enumerable:!0,configurable:!0})}}function S(l){return typeof l!="boolean"?new Error("Argument type: "+P(l)+". Please use a boolean."):(f=l,l?"adapter.js logging disabled":"adapter.js logging enabled")}function M(l){return typeof l!="boolean"?new Error("Argument type: "+P(l)+". Please use a boolean."):(T=!l,"adapter.js deprecation warnings "+(l?"disabled":"enabled"))}function V(){if((typeof window>"u"?"undefined":P(window))==="object"){if(f)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function H(l,c){T&&console.warn(l+" is deprecated, please use "+c+" instead.")}function K(l){var c={browser:null,version:null};if(typeof l>"u"||!l.navigator||!l.navigator.userAgent)return c.browser="Not a browser.",c;var g=l.navigator;if(g.userAgentData&&g.userAgentData.brands){var w=g.userAgentData.brands.find(function(D){return D.brand==="Chromium"});if(w)return{browser:"chrome",version:parseInt(w.version,10)}}if(g.mozGetUserMedia)c.browser="firefox",c.version=_(g.userAgent,/Firefox\/(\d+)\./,1);else if(g.webkitGetUserMedia||l.isSecureContext===!1&&l.webkitRTCPeerConnection)c.browser="chrome",c.version=_(g.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(l.RTCPeerConnection&&g.userAgent.match(/AppleWebKit\/(\d+)\./))c.browser="safari",c.version=_(g.userAgent,/AppleWebKit\/(\d+)\./,1),c.supportsUnifiedPlan=l.RTCRtpTransceiver&&"currentDirection"in l.RTCRtpTransceiver.prototype;else return c.browser="Not a supported browser.",c;return c}function p(l){return Object.prototype.toString.call(l)==="[object Object]"}function $(l){return p(l)?Object.keys(l).reduce(function(c,g){var w=p(l[g]),D=w?$(l[g]):l[g],j=w&&!Object.keys(D).length;return D===void 0||j?c:Object.assign(c,i({},g,D))},{}):l}function m(l,c,g){!c||g.has(c.id)||(g.set(c.id,c),Object.keys(c).forEach(function(w){w.endsWith("Id")?m(l,l.get(c[w]),g):w.endsWith("Ids")&&c[w].forEach(function(D){m(l,l.get(D),g)})}))}function v(l,c,g){var w=g?"outbound-rtp":"inbound-rtp",D=new Map;if(c===null)return D;var j=[];return l.forEach(function(A){A.type==="track"&&A.trackIdentifier===c.id&&j.push(A)}),j.forEach(function(A){l.forEach(function(R){R.type===w&&R.trackId===A.id&&m(l,R,D)})}),D}return Y}var Yt;function ei(){if(Yt)return Fe;Yt=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.shimGetUserMedia=T;var i=b(He());function h(_){if(typeof WeakMap!="function")return null;var O=new WeakMap,S=new WeakMap;return(h=function(V){return V?S:O})(_)}function b(_,O){if(_&&_.__esModule)return _;if(_===null||P(_)!="object"&&typeof _!="function")return{default:_};var S=h(O);if(S&&S.has(_))return S.get(_);var M={__proto__:null},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in _)if(H!=="default"&&{}.hasOwnProperty.call(_,H)){var K=V?Object.getOwnPropertyDescriptor(_,H):null;K&&(K.get||K.set)?Object.defineProperty(M,H,K):M[H]=_[H]}return M.default=_,S&&S.set(_,M),M}function P(_){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},P(_)}var f=i.log;function T(_,O){var S=_&&_.navigator;if(S.mediaDevices){var M=function(m){if(P(m)!=="object"||m.mandatory||m.optional)return m;var v={};return Object.keys(m).forEach(function(l){if(!(l==="require"||l==="advanced"||l==="mediaSource")){var c=P(m[l])==="object"?m[l]:{ideal:m[l]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);var g=function(j,A){return j?j+A.charAt(0).toUpperCase()+A.slice(1):A==="deviceId"?"sourceId":A};if(c.ideal!==void 0){v.optional=v.optional||[];var w={};typeof c.ideal=="number"?(w[g("min",l)]=c.ideal,v.optional.push(w),w={},w[g("max",l)]=c.ideal,v.optional.push(w)):(w[g("",l)]=c.ideal,v.optional.push(w))}c.exact!==void 0&&typeof c.exact!="number"?(v.mandatory=v.mandatory||{},v.mandatory[g("",l)]=c.exact):["min","max"].forEach(function(D){c[D]!==void 0&&(v.mandatory=v.mandatory||{},v.mandatory[g(D,l)]=c[D])})}}),m.advanced&&(v.optional=(v.optional||[]).concat(m.advanced)),v},V=function(m,v){if(O.version>=61)return v(m);if(m=JSON.parse(JSON.stringify(m)),m&&P(m.audio)==="object"){var l=function(j,A,R){A in j&&!(R in j)&&(j[R]=j[A],delete j[A])};m=JSON.parse(JSON.stringify(m)),l(m.audio,"autoGainControl","googAutoGainControl"),l(m.audio,"noiseSuppression","googNoiseSuppression"),m.audio=M(m.audio)}if(m&&P(m.video)==="object"){var c=m.video.facingMode;c=c&&(P(c)==="object"?c:{ideal:c});var g=O.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(S.mediaDevices.getSupportedConstraints&&S.mediaDevices.getSupportedConstraints().facingMode&&!g)){delete m.video.facingMode;var w;if(c.exact==="environment"||c.ideal==="environment"?w=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(w=["front"]),w)return S.mediaDevices.enumerateDevices().then(function(D){D=D.filter(function(A){return A.kind==="videoinput"});var j=D.find(function(A){return w.some(function(R){return A.label.toLowerCase().includes(R)})});return!j&&D.length&&w.includes("back")&&(j=D[D.length-1]),j&&(m.video.deviceId=c.exact?{exact:j.deviceId}:{ideal:j.deviceId}),m.video=M(m.video),f("chrome: "+JSON.stringify(m)),v(m)})}m.video=M(m.video)}return f("chrome: "+JSON.stringify(m)),v(m)},H=function(m){return O.version>=64?m:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[m.name]||m.name,message:m.message,constraint:m.constraint||m.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},K=function(m,v,l){V(m,function(c){S.webkitGetUserMedia(c,v,function(g){l&&l(H(g))})})};if(S.getUserMedia=K.bind(S),S.mediaDevices.getUserMedia){var p=S.mediaDevices.getUserMedia.bind(S.mediaDevices);S.mediaDevices.getUserMedia=function($){return V($,function(m){return p(m).then(function(v){if(m.audio&&!v.getAudioTracks().length||m.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(function(l){l.stop()}),new DOMException("","NotFoundError");return v},function(v){return Promise.reject(H(v))})})}}}}return Fe}var Vi=ei(),We={},er;function ti(){if(er)return We;er=1,Object.defineProperty(We,"__esModule",{value:!0}),We.shimGetUserMedia=f;var i=b(He());function h(T){if(typeof WeakMap!="function")return null;var _=new WeakMap,O=new WeakMap;return(h=function(M){return M?O:_})(T)}function b(T,_){if(T&&T.__esModule)return T;if(T===null||P(T)!="object"&&typeof T!="function")return{default:T};var O=h(_);if(O&&O.has(T))return O.get(T);var S={__proto__:null},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in T)if(V!=="default"&&{}.hasOwnProperty.call(T,V)){var H=M?Object.getOwnPropertyDescriptor(T,V):null;H&&(H.get||H.set)?Object.defineProperty(S,V,H):S[V]=T[V]}return S.default=T,O&&O.set(T,S),S}function P(T){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},P(T)}function f(T,_){var O=T&&T.navigator,S=T&&T.MediaStreamTrack;if(O.getUserMedia=function(p,$,m){i.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),O.mediaDevices.getUserMedia(p).then($,m)},!(_.version>55&&"autoGainControl"in O.mediaDevices.getSupportedConstraints())){var M=function($,m,v){m in $&&!(v in $)&&($[v]=$[m],delete $[m])},V=O.mediaDevices.getUserMedia.bind(O.mediaDevices);if(O.mediaDevices.getUserMedia=function(p){return P(p)==="object"&&P(p.audio)==="object"&&(p=JSON.parse(JSON.stringify(p)),M(p.audio,"autoGainControl","mozAutoGainControl"),M(p.audio,"noiseSuppression","mozNoiseSuppression")),V(p)},S&&S.prototype.getSettings){var H=S.prototype.getSettings;S.prototype.getSettings=function(){var p=H.apply(this,arguments);return M(p,"mozAutoGainControl","autoGainControl"),M(p,"mozNoiseSuppression","noiseSuppression"),p}}if(S&&S.prototype.applyConstraints){var K=S.prototype.applyConstraints;S.prototype.applyConstraints=function(p){return this.kind==="audio"&&P(p)==="object"&&(p=JSON.parse(JSON.stringify(p)),M(p,"autoGainControl","mozAutoGainControl"),M(p,"noiseSuppression","mozNoiseSuppression")),K.apply(this,[p])}}}}return We}var Hi=ti(),ee={},tr;function ri(){if(tr)return ee;tr=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.shimAudioContext=K,ee.shimCallbacksAPI=_,ee.shimConstraints=S,ee.shimCreateOfferLegacy=H,ee.shimGetUserMedia=O,ee.shimLocalStreamsAPI=f,ee.shimRTCIceServerUrls=M,ee.shimRemoteStreamsAPI=T,ee.shimTrackEventTransceiver=V;var i=b(He());function h(p){if(typeof WeakMap!="function")return null;var $=new WeakMap,m=new WeakMap;return(h=function(l){return l?m:$})(p)}function b(p,$){if(p&&p.__esModule)return p;if(p===null||P(p)!="object"&&typeof p!="function")return{default:p};var m=h($);if(m&&m.has(p))return m.get(p);var v={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in p)if(c!=="default"&&{}.hasOwnProperty.call(p,c)){var g=l?Object.getOwnPropertyDescriptor(p,c):null;g&&(g.get||g.set)?Object.defineProperty(v,c,g):v[c]=p[c]}return v.default=p,m&&m.set(p,v),v}function P(p){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},P(p)}function f(p){if(!(P(p)!=="object"||!p.RTCPeerConnection)){if("getLocalStreams"in p.RTCPeerConnection.prototype||(p.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in p.RTCPeerConnection.prototype)){var $=p.RTCPeerConnection.prototype.addTrack;p.RTCPeerConnection.prototype.addStream=function(v){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(v)||this._localStreams.push(v),v.getAudioTracks().forEach(function(c){return $.call(l,c,v)}),v.getVideoTracks().forEach(function(c){return $.call(l,c,v)})},p.RTCPeerConnection.prototype.addTrack=function(v){for(var l=this,c=arguments.length,g=new Array(c>1?c-1:0),w=1;w<c;w++)g[w-1]=arguments[w];return g&&g.forEach(function(D){l._localStreams?l._localStreams.includes(D)||l._localStreams.push(D):l._localStreams=[D]}),$.apply(this,arguments)}}"removeStream"in p.RTCPeerConnection.prototype||(p.RTCPeerConnection.prototype.removeStream=function(v){var l=this;this._localStreams||(this._localStreams=[]);var c=this._localStreams.indexOf(v);if(c!==-1){this._localStreams.splice(c,1);var g=v.getTracks();this.getSenders().forEach(function(w){g.includes(w.track)&&l.removeTrack(w)})}})}}function T(p){if(!(P(p)!=="object"||!p.RTCPeerConnection)&&("getRemoteStreams"in p.RTCPeerConnection.prototype||(p.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in p.RTCPeerConnection.prototype))){Object.defineProperty(p.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(v){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=v),this.addEventListener("track",this._onaddstreampoly=function(c){c.streams.forEach(function(g){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(g)){l._remoteStreams.push(g);var w=new Event("addstream");w.stream=g,l.dispatchEvent(w)}})})}});var $=p.RTCPeerConnection.prototype.setRemoteDescription;p.RTCPeerConnection.prototype.setRemoteDescription=function(){var v=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(c){if(v._remoteStreams||(v._remoteStreams=[]),!(v._remoteStreams.indexOf(c)>=0)){v._remoteStreams.push(c);var g=new Event("addstream");g.stream=c,v.dispatchEvent(g)}})}),$.apply(v,arguments)}}}function _(p){if(!(P(p)!=="object"||!p.RTCPeerConnection)){var $=p.RTCPeerConnection.prototype,m=$.createOffer,v=$.createAnswer,l=$.setLocalDescription,c=$.setRemoteDescription,g=$.addIceCandidate;$.createOffer=function(j,A){var R=arguments.length>=2?arguments[2]:arguments[0],G=m.apply(this,[R]);return A?(G.then(j,A),Promise.resolve()):G},$.createAnswer=function(j,A){var R=arguments.length>=2?arguments[2]:arguments[0],G=v.apply(this,[R]);return A?(G.then(j,A),Promise.resolve()):G};var w=function(j,A,R){var G=l.apply(this,[j]);return R?(G.then(A,R),Promise.resolve()):G};$.setLocalDescription=w,w=function(j,A,R){var G=c.apply(this,[j]);return R?(G.then(A,R),Promise.resolve()):G},$.setRemoteDescription=w,w=function(j,A,R){var G=g.apply(this,[j]);return R?(G.then(A,R),Promise.resolve()):G},$.addIceCandidate=w}}function O(p){var $=p&&p.navigator;if($.mediaDevices&&$.mediaDevices.getUserMedia){var m=$.mediaDevices,v=m.getUserMedia.bind(m);$.mediaDevices.getUserMedia=function(l){return v(S(l))}}!$.getUserMedia&&$.mediaDevices&&$.mediaDevices.getUserMedia&&($.getUserMedia=(function(c,g,w){$.mediaDevices.getUserMedia(c).then(g,w)}).bind($))}function S(p){return p&&p.video!==void 0?Object.assign({},p,{video:i.compactObject(p.video)}):p}function M(p){if(p.RTCPeerConnection){var $=p.RTCPeerConnection;p.RTCPeerConnection=function(v,l){if(v&&v.iceServers){for(var c=[],g=0;g<v.iceServers.length;g++){var w=v.iceServers[g];w.urls===void 0&&w.url?(i.deprecated("RTCIceServer.url","RTCIceServer.urls"),w=JSON.parse(JSON.stringify(w)),w.urls=w.url,delete w.url,c.push(w)):c.push(v.iceServers[g])}v.iceServers=c}return new $(v,l)},p.RTCPeerConnection.prototype=$.prototype,"generateCertificate"in $&&Object.defineProperty(p.RTCPeerConnection,"generateCertificate",{get:function(){return $.generateCertificate}})}}function V(p){P(p)==="object"&&p.RTCTrackEvent&&"receiver"in p.RTCTrackEvent.prototype&&!("transceiver"in p.RTCTrackEvent.prototype)&&Object.defineProperty(p.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function H(p){var $=p.RTCPeerConnection.prototype.createOffer;p.RTCPeerConnection.prototype.createOffer=function(v){if(v){typeof v.offerToReceiveAudio<"u"&&(v.offerToReceiveAudio=!!v.offerToReceiveAudio);var l=this.getTransceivers().find(function(g){return g.receiver.track.kind==="audio"});v.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):v.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof v.offerToReceiveVideo<"u"&&(v.offerToReceiveVideo=!!v.offerToReceiveVideo);var c=this.getTransceivers().find(function(g){return g.receiver.track.kind==="video"});v.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):v.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return $.apply(this,arguments)}}function K(p){P(p)!=="object"||p.AudioContext||(p.AudioContext=p.webkitAudioContext)}return ee}var Gi=ri(),Ni=He(),ir=i=>{throw TypeError(i)},or=(i,h,b)=>h.has(i)||ir("Cannot "+b),ni=(i,h,b)=>(or(i,h,"read from private field"),b?b.call(i):h.get(i)),ai=(i,h,b)=>h.has(i)?ir("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(i):h.set(i,b),ii=(i,h,b,P)=>(or(i,h,"write to private field"),h.set(i,b),b);const Ge=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Ne=Ge.map(([i])=>i),oi=Ne.filter((i,h)=>Ge[h][1]==="L"),si=Ne.filter((i,h)=>Ge[h][1]==="M");function ct(i){switch(i){case"Linear-Codes":return oi.reduce((h,b)=>h|ct(b),0);case"Matrix-Codes":return si.reduce((h,b)=>h|ct(b),0);case"Any":return(1<<Ge.length)-1;case"None":return 0;default:return 1<<Ne.indexOf(i)}}function ui(i){if(i===0)return"None";const h=31-Math.clz32(i);return Ne[h]}function ci(i){return i.reduce((h,b)=>h|ct(b),0)}const li=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function fi(i){return li.indexOf(i)}const rr=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function di(i){return i==="UnicodeBig"?rr.indexOf("UTF16BE"):rr.indexOf(i)}const pi=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function hi(i){return pi[i]}const vi=["Ignore","Read","Require"];function mi(i){return vi.indexOf(i)}const yi=["Plain","ECI","HRI","Hex","Escaped"];function gi(i){return yi.indexOf(i)}const Ve={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function nr(i){return{...i,formats:ci(i.formats),binarizer:fi(i.binarizer),eanAddOnSymbol:mi(i.eanAddOnSymbol),textMode:gi(i.textMode),characterSet:di(i.characterSet)}}function bi(i){return{...i,format:ui(i.format),contentType:hi(i.contentType),eccLevel:i.ecLevel}}const Ci={locateFile:(i,h)=>{const b=i.match(/_(.+?)\.wasm$/);return b?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.0/dist/${b[1]}/${i}`:h+i}},ut=new WeakMap;function wi(i,h){return Object.is(i,h)||Object.keys(i).length===Object.keys(h).length&&Object.keys(i).every(b=>Object.prototype.hasOwnProperty.call(h,b)&&i[b]===h[b])}function sr(i,{overrides:h,equalityFn:b=wi,fireImmediately:P=!1}={}){var f;const[T,_]=(f=ut.get(i))!=null?f:[Ci],O=h??T;let S;if(P){if(_&&(S=b(T,O)))return _;const M=i({...O});return ut.set(i,[O,M]),M}(S??b(T,O))||ut.set(i,[O])}async function $i(i,h,b=Ve){const P={...Ve,...b},f=await sr(i,{fireImmediately:!0});let T,_;if("width"in h&&"height"in h&&"data"in h){const{data:S,data:{byteLength:M},width:V,height:H}=h;_=f._malloc(M),f.HEAPU8.set(S,_),T=f.readBarcodesFromPixmap(_,V,H,nr(P))}else{let S,M;if("buffer"in h)[S,M]=[h.byteLength,h];else if("byteLength"in h)[S,M]=[h.byteLength,new Uint8Array(h)];else if("size"in h)[S,M]=[h.size,new Uint8Array(await h.arrayBuffer())];else throw new TypeError("Invalid input type");_=f._malloc(S),f.HEAPU8.set(M,_),T=f.readBarcodesFromImage(_,S,nr(P))}f._free(_);const O=[];for(let S=0;S<T.size();++S)O.push(bi(T.get(S)));return O}({...Ve,formats:[...Ve.formats]});var ur=(()=>{var i,h=typeof document<"u"&&((i=document.currentScript)==null?void 0:i.tagName.toUpperCase())==="SCRIPT"?document.currentScript.src:void 0;return function(b={}){var P,f=b,T,_,O=new Promise((e,t)=>{T=e,_=t}),S=typeof window=="object",M=typeof Bun<"u",V=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var H=Object.assign({},f),K="./this.program",p="";function $(e){return f.locateFile?f.locateFile(e,p):p+e}var m,v;if(S||V||M){var l;V?p=self.location.href:typeof document<"u"&&((l=document.currentScript)===null||l===void 0?void 0:l.tagName.toUpperCase())==="SCRIPT"&&(p=document.currentScript.src),h&&(p=h),p.startsWith("blob:")?p="":p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1),V&&(v=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),m=async e=>{var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)}}var c=f.print||console.log.bind(console),g=f.printErr||console.error.bind(console);Object.assign(f,H),H=null,f.arguments&&f.arguments,f.thisProgram&&(K=f.thisProgram);var w=f.wasmBinary,D,j=!1,A,R,G,me,ce,B,ft,dt;function pt(){var e=D.buffer;f.HEAP8=A=new Int8Array(e),f.HEAP16=G=new Int16Array(e),f.HEAPU8=R=new Uint8Array(e),f.HEAPU16=me=new Uint16Array(e),f.HEAP32=ce=new Int32Array(e),f.HEAPU32=B=new Uint32Array(e),f.HEAPF32=ft=new Float32Array(e),f.HEAPF64=dt=new Float64Array(e)}var ht=[],vt=[],mt=[];function gr(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)wr(f.preRun.shift());qe(ht)}function br(){qe(vt)}function Cr(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)_r(f.postRun.shift());qe(mt)}function wr(e){ht.unshift(e)}function $r(e){vt.unshift(e)}function _r(e){mt.unshift(e)}var le=0,ye=null;function Sr(e){var t;le++,(t=f.monitorRunDependencies)===null||t===void 0||t.call(f,le)}function Pr(e){var t;if(le--,(t=f.monitorRunDependencies)===null||t===void 0||t.call(f,le),le==0&&ye){var r=ye;ye=null,r()}}function ze(e){var t;(t=f.onAbort)===null||t===void 0||t.call(f,e),e="Aborted("+e+")",g(e),j=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw _(r),r}var Tr="data:application/octet-stream;base64,",yt=e=>e.startsWith(Tr);function Er(){var e="zxing_reader.wasm";return yt(e)?e:$(e)}var $e;function Or(e){if(e==$e&&w)return new Uint8Array(w);if(v)return v(e);throw"both async and sync fetching of the wasm failed"}async function Ar(e){if(!w)try{var t=await m(e);return new Uint8Array(t)}catch{}return Or(e)}async function Rr(e,t){try{var r=await Ar(e),n=await WebAssembly.instantiate(r,t);return n}catch(a){g(`failed to asynchronously prepare wasm: ${a}`),ze(a)}}async function Mr(e,t,r){if(!e&&typeof WebAssembly.instantiateStreaming=="function"&&!yt(t)&&typeof fetch=="function")try{var n=fetch(t,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(n,r);return a}catch(o){g(`wasm streaming compile failed: ${o}`),g("falling back to ArrayBuffer instantiation")}return Rr(t,r)}function Dr(){return{a:ga}}async function jr(){var e;function t(o,u){return z=o.exports,D=z.xa,pt(),Et=z.Ba,$r(z.ya),Pr(),z}Sr();function r(o){t(o.instance)}var n=Dr();if(f.instantiateWasm)try{return f.instantiateWasm(n,t)}catch(o){g(`Module.instantiateWasm callback failed with error: ${o}`),_(o)}(e=$e)!==null&&e!==void 0||($e=Er());try{var a=await Mr(w,$e,n);return r(a),a}catch(o){_(o);return}}var qe=e=>{for(;e.length>0;)e.shift()(f)};f.noExitRuntime;var I=e=>Wt(e),k=()=>Bt(),_e=[],Se=0,xr=e=>{var t=new Je(e);return t.get_caught()||(t.set_caught(!0),Se--),t.set_rethrown(!1),_e.push(t),Ht(e),Lt(e)},ne=0,Ir=()=>{x(0,0);var e=_e.pop();Vt(e.excPtr),ne=0};class Je{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){B[this.ptr+4>>2]=t}get_type(){return B[this.ptr+4>>2]}set_destructor(t){B[this.ptr+8>>2]=t}get_destructor(){return B[this.ptr+8>>2]}set_caught(t){t=t?1:0,A[this.ptr+12]=t}get_caught(){return A[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,A[this.ptr+13]=t}get_rethrown(){return A[this.ptr+13]!=0}init(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)}set_adjusted_ptr(t){B[this.ptr+16>>2]=t}get_adjusted_ptr(){return B[this.ptr+16>>2]}}var kr=e=>{throw ne||(ne=e),ne},Pe=e=>Ft(e),Ke=e=>{var t=ne;if(!t)return Pe(0),0;var r=new Je(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return Pe(0),t;for(var a of e){if(a===0||a===n)break;var o=r.ptr+16;if(Gt(a,n,o))return Pe(a),t}return Pe(n),t},Ur=()=>Ke([]),Lr=e=>Ke([e]),Fr=(e,t)=>Ke([e,t]),Wr=()=>{var e=_e.pop();e||ze("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(_e.push(e),e.set_rethrown(!0),e.set_caught(!1),Se++),ne=t,ne},Br=(e,t,r)=>{var n=new Je(e);throw n.init(t,r),ne=e,Se++,ne},Vr=()=>Se,Hr=()=>ze(""),Te={},Qe=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function ge(e){return this.fromWireType(B[e>>2])}var he={},fe={},Ee={},gt,Oe=e=>{throw new gt(e)},de=(e,t,r)=>{e.forEach(s=>Ee[s]=t);function n(s){var d=r(s);d.length!==e.length&&Oe("Mismatched type converter count");for(var y=0;y<e.length;++y)re(e[y],d[y])}var a=new Array(t.length),o=[],u=0;t.forEach((s,d)=>{fe.hasOwnProperty(s)?a[d]=fe[s]:(o.push(s),he.hasOwnProperty(s)||(he[s]=[]),he[s].push(()=>{a[d]=fe[s],++u,u===o.length&&n(a)}))}),o.length===0&&n(a)},Gr=e=>{var t=Te[e];delete Te[e];var r=t.rawConstructor,n=t.rawDestructor,a=t.fields,o=a.map(u=>u.getterReturnType).concat(a.map(u=>u.setterArgumentType));de([e],o,u=>{var s={};return a.forEach((d,y)=>{var C=d.fieldName,E=u[y],L=d.getter,W=d.getterContext,N=u[y+a.length],Q=d.setter,q=d.setterContext;s[C]={read:J=>E.fromWireType(L(W,J)),write:(J,pe)=>{var Z=[];Q(q,J,N.toWireType(Z,pe)),Qe(Z)}}}),[{name:t.name,fromWireType:d=>{var y={};for(var C in s)y[C]=s[C].read(d);return n(d),y},toWireType:(d,y)=>{for(var C in s)if(!(C in y))throw new TypeError(`Missing field: "${C}"`);var E=r();for(C in s)s[C].write(E,y[C]);return d!==null&&d.push(n,E),E},argPackAdvance:ae,readValueFromPointer:ge,destructorFunction:n}]})},Nr=(e,t,r,n,a)=>{},zr=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);bt=e},bt,X=e=>{for(var t="",r=e;R[r];)t+=bt[R[r++]];return t},ve,F=e=>{throw new ve(e)};function qr(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n=t.name;if(e||F(`type "${n}" must have a positive integer typeid pointer`),fe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;F(`Cannot register type '${n}' twice`)}if(fe[e]=t,delete Ee[e],he.hasOwnProperty(e)){var a=he[e];delete he[e],a.forEach(o=>o())}}function re(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return qr(e,t,r)}var ae=8,Jr=(e,t,r,n)=>{t=X(t),re(e,{name:t,fromWireType:function(a){return!!a},toWireType:function(a,o){return o?r:n},argPackAdvance:ae,readValueFromPointer:function(a){return this.fromWireType(R[a])},destructorFunction:null})},Kr=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Xe=e=>{function t(r){return r.$$.ptrType.registeredClass.name}F(t(e)+" instance already deleted")},Ze=!1,Ct=e=>{},Qr=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},wt=e=>{e.count.value-=1;var t=e.count.value===0;t&&Qr(e)},$t=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var n=$t(e,t,r.baseClass);return n===null?null:r.downcast(n)},_t={},Xr={},Zr=(e,t)=>{for(t===void 0&&F("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Yr=(e,t)=>(t=Zr(e,t),Xr[t]),Ae=(e,t)=>{(!t.ptrType||!t.ptr)&&Oe("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&Oe("Both smartPtrType and smartPtr must be specified"),t.count={value:1},be(Object.create(e,{$$:{value:t,writable:!0}}))};function en(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Yr(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function a(){return this.isSmartPointer?Ae(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ae(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o=this.registeredClass.getActualType(t),u=_t[o];if(!u)return a.call(this);var s;this.isConst?s=u.constPointerType:s=u.pointerType;var d=$t(t,this.registeredClass,s.registeredClass);return d===null?a.call(this):this.isSmartPointer?Ae(s.registeredClass.instancePrototype,{ptrType:s,ptr:d,smartPtrType:this,smartPtr:e}):Ae(s.registeredClass.instancePrototype,{ptrType:s,ptr:d})}var be=e=>typeof FinalizationRegistry>"u"?(be=t=>t,e):(Ze=new FinalizationRegistry(t=>{wt(t.$$)}),be=t=>{var r=t.$$,n=!!r.smartPtr;if(n){var a={$$:r};Ze.register(t,a,t)}return t},Ct=t=>Ze.unregister(t),be(e)),tn=()=>{Object.assign(Re.prototype,{isAliasOf(e){if(!(this instanceof Re)||!(e instanceof Re))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},clone(){if(this.$$.ptr||Xe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=be(Object.create(Object.getPrototypeOf(this),{$$:{value:Kr(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),Ct(this),wt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function Re(){}var Me=(e,t)=>Object.defineProperty(t,"name",{value:e}),St=(e,t,r)=>{if(e[t].overloadTable===void 0){var n=e[t];e[t]=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return e[t].overloadTable.hasOwnProperty(o.length)||F(`Function '${r}' called with an invalid number of arguments (${o.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[o.length].apply(this,o)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},Pt=(e,t,r)=>{f.hasOwnProperty(e)?((r===void 0||f[e].overloadTable!==void 0&&f[e].overloadTable[r]!==void 0)&&F(`Cannot register public name '${e}' twice`),St(f,e,e),f[e].overloadTable.hasOwnProperty(r)&&F(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),f[e].overloadTable[r]=t):(f[e]=t,f[e].argCount=r)},rn=48,nn=57,an=e=>{e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=rn&&t<=nn?`_${e}`:e};function on(e,t,r,n,a,o,u,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=u,this.downcast=s,this.pureVirtualFunctions=[]}var Ye=(e,t,r)=>{for(;t!==r;)t.upcast||F(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function sn(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${at(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=Ye(t.$$.ptr,r,this.registeredClass);return n}function un(e,t){var r;if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&F(`Cannot pass "${at(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=Ye(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&F("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t.clone();r=this.rawShare(r,oe.toHandle(()=>a.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:F("Unsupporting sharing policy")}return r}function cn(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${at(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=Ye(t.$$.ptr,r,this.registeredClass);return n}var ln=()=>{Object.assign(De.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;(t=this.rawDestructor)===null||t===void 0||t.call(this,e)},argPackAdvance:ae,readValueFromPointer:ge,fromWireType:en})};function De(e,t,r,n,a,o,u,s,d,y,C){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=u,this.rawGetPointee=s,this.rawConstructor=d,this.rawShare=y,this.rawDestructor=C,!a&&t.baseClass===void 0?n?(this.toWireType=sn,this.destructorFunction=null):(this.toWireType=cn,this.destructorFunction=null):this.toWireType=un}var Tt=(e,t,r)=>{f.hasOwnProperty(e)||Oe("Replacing nonexistent public symbol"),f[e].overloadTable!==void 0&&r!==void 0?f[e].overloadTable[r]=t:(f[e]=t,f[e].argCount=r)},fn=(e,t,r)=>{e=e.replace(/p/g,"i");var n=f["dynCall_"+e];return n(t,...r)},je=[],Et,U=e=>{var t=je[e];return t||(e>=je.length&&(je.length=e+1),je[e]=t=Et.get(e)),t},dn=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e.includes("j"))return fn(e,t,r);var n=U(t)(...r);return n},pn=(e,t)=>function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return dn(e,t,n)},te=(e,t)=>{e=X(e);function r(){return e.includes("j")?pn(e,t):U(t)}var n=r();return typeof n!="function"&&F(`unknown function pointer with signature ${e}: ${t}`),n},hn=(e,t)=>{var r=Me(t,function(n){this.name=t,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Ot,At=e=>{var t=Ut(e),r=X(t);return se(t),r},xe=(e,t)=>{var r=[],n={};function a(o){if(!n[o]&&!fe[o]){if(Ee[o]){Ee[o].forEach(a);return}r.push(o),n[o]=!0}}throw t.forEach(a),new Ot(`${e}: `+r.map(At).join([", "]))},vn=(e,t,r,n,a,o,u,s,d,y,C,E,L)=>{C=X(C),o=te(a,o),s&&(s=te(u,s)),y&&(y=te(d,y)),L=te(E,L);var W=an(C);Pt(W,function(){xe(`Cannot construct ${C} due to unbound types`,[n])}),de([e,t,r],n?[n]:[],N=>{N=N[0];var Q,q;n?(Q=N.registeredClass,q=Q.instancePrototype):q=Re.prototype;var J=Me(C,function(){if(Object.getPrototypeOf(this)!==pe)throw new ve("Use 'new' to construct "+C);if(Z.constructor_body===void 0)throw new ve(C+" has no accessible constructor");for(var Qt=arguments.length,Ue=new Array(Qt),Le=0;Le<Qt;Le++)Ue[Le]=arguments[Le];var Xt=Z.constructor_body[Ue.length];if(Xt===void 0)throw new ve(`Tried to invoke ctor of ${C} with invalid number of parameters (${Ue.length}) - expected (${Object.keys(Z.constructor_body).toString()}) parameters instead!`);return Xt.apply(this,Ue)}),pe=Object.create(q,{constructor:{value:J}});J.prototype=pe;var Z=new on(C,J,pe,L,Q,o,s,y);if(Z.baseClass){var ue,ke;(ke=(ue=Z.baseClass).__derivedClasses)!==null&&ke!==void 0||(ue.__derivedClasses=[]),Z.baseClass.__derivedClasses.push(Z)}var Ya=new De(C,Z,!0,!1,!1),Jt=new De(C+"*",Z,!1,!1,!1),Kt=new De(C+" const*",Z,!1,!0,!1);return _t[e]={pointerType:Jt,constPointerType:Kt},Tt(W,J),[Ya,Jt,Kt]})},et=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(B[t+n*4>>2]);return r};function mn(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function tt(e,t,r,n,a,o){var u=t.length;u<2&&F("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=t[1]!==null&&r!==null,d=mn(t),y=t[0].name!=="void",C=u-2,E=new Array(C),L=[],W=[],N=function(){W.length=0;var Q;L.length=s?2:1,L[0]=a,s&&(Q=t[1].toWireType(W,this),L[1]=Q);for(var q=0;q<C;++q)E[q]=t[q+2].toWireType(W,q<0||arguments.length<=q?void 0:arguments[q]),L.push(E[q]);var J=n(...L);function pe(Z){if(d)Qe(W);else for(var ue=s?1:2;ue<t.length;ue++){var ke=ue===1?Q:E[ue-2];t[ue].destructorFunction!==null&&t[ue].destructorFunction(ke)}if(y)return t[0].fromWireType(Z)}return pe(J)};return Me(e,N)}var yn=(e,t,r,n,a,o)=>{var u=et(t,r);a=te(n,a),de([],[e],s=>{s=s[0];var d=`constructor ${s.name}`;if(s.registeredClass.constructor_body===void 0&&(s.registeredClass.constructor_body=[]),s.registeredClass.constructor_body[t-1]!==void 0)throw new ve(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[t-1]=()=>{xe(`Cannot construct ${s.name} due to unbound types`,u)},de([],u,y=>(y.splice(1,0,null),s.registeredClass.constructor_body[t-1]=tt(d,y,null,a,o),[])),[]})},Rt=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},gn=(e,t,r,n,a,o,u,s,d,y)=>{var C=et(r,n);t=X(t),t=Rt(t),o=te(a,o),de([],[e],E=>{E=E[0];var L=`${E.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&E.registeredClass.pureVirtualFunctions.push(t);function W(){xe(`Cannot call ${L} due to unbound types`,C)}var N=E.registeredClass.instancePrototype,Q=N[t];return Q===void 0||Q.overloadTable===void 0&&Q.className!==E.name&&Q.argCount===r-2?(W.argCount=r-2,W.className=E.name,N[t]=W):(St(N,t,L),N[t].overloadTable[r-2]=W),de([],C,q=>{var J=tt(L,q,E,o,u);return N[t].overloadTable===void 0?(J.argCount=r-2,N[t]=J):N[t].overloadTable[r-2]=J,[]}),[]})},rt=[],ie=[],nt=e=>{e>9&&--ie[e+1]===0&&(ie[e]=void 0,rt.push(e))},bn=()=>ie.length/2-5-rt.length,Cn=()=>{ie.push(0,1,void 0,1,null,1,!0,1,!1,1),f.count_emval_handles=bn},oe={toValue:e=>(e||F("Cannot use deleted val. handle = "+e),ie[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=rt.pop()||ie.length;return ie[t]=e,ie[t+1]=1,t}}}},Mt={name:"emscripten::val",fromWireType:e=>{var t=oe.toValue(e);return nt(e),t},toWireType:(e,t)=>oe.toHandle(t),argPackAdvance:ae,readValueFromPointer:ge,destructorFunction:null},wn=e=>re(e,Mt),at=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},$n=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(ft[r>>2])};case 8:return function(r){return this.fromWireType(dt[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},_n=(e,t,r)=>{t=X(t),re(e,{name:t,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:ae,readValueFromPointer:$n(t,r),destructorFunction:null})},Sn=(e,t,r,n,a,o,u,s)=>{var d=et(t,r);e=X(e),e=Rt(e),a=te(n,a),Pt(e,function(){xe(`Cannot call ${e} due to unbound types`,d)},t-1),de([],d,y=>{var C=[y[0],null].concat(y.slice(1));return Tt(e,tt(e,C,null,a,o),t-1),[]})},Pn=(e,t,r)=>{switch(t){case 1:return r?n=>A[n]:n=>R[n];case 2:return r?n=>G[n>>1]:n=>me[n>>1];case 4:return r?n=>ce[n>>2]:n=>B[n>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Tn=(e,t,r,n,a)=>{t=X(t);var o=C=>C;if(n===0){var u=32-8*r;o=C=>C<<u>>>u}var s=t.includes("unsigned"),d=(C,E)=>{},y;s?y=function(C,E){return d(E,this.name),E>>>0}:y=function(C,E){return d(E,this.name),E},re(e,{name:t,fromWireType:o,toWireType:y,argPackAdvance:ae,readValueFromPointer:Pn(t,r,n!==0),destructorFunction:null})},En=(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[t];function o(u){var s=B[u>>2],d=B[u+4>>2];return new a(A.buffer,d,s)}r=X(r),re(e,{name:r,fromWireType:o,argPackAdvance:ae,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},On=Object.assign({optional:!0},Mt),An=(e,t)=>{re(e,On)},Rn=(e,t,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,u=0;u<e.length;++u){var s=e.charCodeAt(u);if(s>=55296&&s<=57343){var d=e.charCodeAt(++u);s=65536+((s&1023)<<10)|d&1023}if(s<=127){if(r>=o)break;t[r++]=s}else if(s<=2047){if(r+1>=o)break;t[r++]=192|s>>6,t[r++]=128|s&63}else if(s<=65535){if(r+2>=o)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|s&63}else{if(r+3>=o)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|s&63}}return t[r]=0,r-a},Ce=(e,t,r)=>Rn(e,R,t,r),Mn=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Dt=typeof TextDecoder<"u"?new TextDecoder:void 0,jt=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&Dt)return Dt.decode(e.subarray(t,a));for(var o="";t<a;){var u=e[t++];if(!(u&128)){o+=String.fromCharCode(u);continue}var s=e[t++]&63;if((u&224)==192){o+=String.fromCharCode((u&31)<<6|s);continue}var d=e[t++]&63;if((u&240)==224?u=(u&15)<<12|s<<6|d:u=(u&7)<<18|s<<12|d<<6|e[t++]&63,u<65536)o+=String.fromCharCode(u);else{var y=u-65536;o+=String.fromCharCode(55296|y>>10,56320|y&1023)}}return o},Dn=(e,t)=>e?jt(R,e,t):"",jn=(e,t)=>{t=X(t),re(e,{name:t,fromWireType(r){for(var n=B[r>>2],a=r+4,o,s,u=a,s=0;s<=n;++s){var d=a+s;if(s==n||R[d]==0){var y=d-u,C=Dn(u,y);o===void 0?o=C:(o+="\0",o+=C),u=d+1}}return se(r),o},toWireType(r,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var a,o=typeof n=="string";o||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||F("Cannot pass non-string to std::string"),o?a=Mn(n):a=n.length;var u=st(4+a+1),s=u+4;if(B[u>>2]=a,o)Ce(n,s,a+1);else if(o)for(var d=0;d<a;++d){var y=n.charCodeAt(d);y>255&&(se(s),F("String has UTF-16 code units that do not fit in 8 bits")),R[s+d]=y}else for(var d=0;d<a;++d)R[s+d]=n[d];return r!==null&&r.push(se,u),u},argPackAdvance:ae,readValueFromPointer:ge,destructorFunction(r){se(r)}})},xt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,xn=(e,t)=>{for(var r=e,n=r>>1,a=n+t/2;!(n>=a)&&me[n];)++n;if(r=n<<1,r-e>32&&xt)return xt.decode(R.subarray(e,r));for(var o="",u=0;!(u>=t/2);++u){var s=G[e+u*2>>1];if(s==0)break;o+=String.fromCharCode(s)}return o},In=(e,t,r)=>{var n;if((n=r)!==null&&n!==void 0||(r=2147483647),r<2)return 0;r-=2;for(var a=t,o=r<e.length*2?r/2:e.length,u=0;u<o;++u){var s=e.charCodeAt(u);G[t>>1]=s,t+=2}return G[t>>1]=0,t-a},kn=e=>e.length*2,Un=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var a=ce[e+r*4>>2];if(a==0)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|o&1023)}else n+=String.fromCharCode(a)}return n},Ln=(e,t,r)=>{var n;if((n=r)!==null&&n!==void 0||(r=2147483647),r<4)return 0;for(var a=t,o=a+r-4,u=0;u<e.length;++u){var s=e.charCodeAt(u);if(s>=55296&&s<=57343){var d=e.charCodeAt(++u);s=65536+((s&1023)<<10)|d&1023}if(ce[t>>2]=s,t+=4,t+4>o)break}return ce[t>>2]=0,t-a},Fn=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},Wn=(e,t,r)=>{r=X(r);var n,a,o,u;t===2?(n=xn,a=In,u=kn,o=s=>me[s>>1]):t===4&&(n=Un,a=Ln,u=Fn,o=s=>B[s>>2]),re(e,{name:r,fromWireType:s=>{for(var d=B[s>>2],y,C=s+4,E=0;E<=d;++E){var L=s+4+E*t;if(E==d||o(L)==0){var W=L-C,N=n(C,W);y===void 0?y=N:(y+="\0",y+=N),C=L+t}}return se(s),y},toWireType:(s,d)=>{typeof d!="string"&&F(`Cannot pass non-string to C++ string type ${r}`);var y=u(d),C=st(4+y+t);return B[C>>2]=y/t,a(d,C+4,y+t),s!==null&&s.push(se,C),C},argPackAdvance:ae,readValueFromPointer:ge,destructorFunction(s){se(s)}})},Bn=(e,t,r,n,a,o)=>{Te[e]={name:X(t),rawConstructor:te(r,n),rawDestructor:te(a,o),fields:[]}},Vn=(e,t,r,n,a,o,u,s,d,y)=>{Te[e].fields.push({fieldName:X(t),getterReturnType:r,getter:te(n,a),getterContext:o,setterArgumentType:u,setter:te(s,d),setterContext:y})},Hn=(e,t)=>{t=X(t),re(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,n)=>{}})},Gn=(e,t,r)=>R.copyWithin(e,t,t+r),it=[],Nn=(e,t,r,n)=>(e=it[e],t=oe.toValue(t),e(null,t,r,n)),zn={},qn=e=>{var t=zn[e];return t===void 0?X(e):t},It=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var r=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return r||delete t.$$$embind_global$$$,r}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Jn=e=>e===0?oe.toHandle(It()):(e=qn(e),oe.toHandle(It()[e])),Kn=e=>{var t=it.length;return it.push(e),t},kt=(e,t)=>{var r=fe[e];return r===void 0&&F(`${t} has unknown type ${At(e)}`),r},Qn=(e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=kt(B[t+n*4>>2],"parameter "+n);return r},Xn=Reflect.construct,Zn=(e,t,r)=>{var n=[],a=e.toWireType(n,r);return n.length&&(B[t>>2]=oe.toHandle(n)),a},Yn=(e,t,r)=>{var n=Qn(e,t),a=n.shift();e--;var o=new Array(e),u=(d,y,C,E)=>{for(var L=0,W=0;W<e;++W)o[W]=n[W].readValueFromPointer(E+L),L+=n[W].argPackAdvance;var N=r===1?Xn(y,o):y.apply(d,o);return Zn(a,C,N)},s=`methodCaller<(${n.map(d=>d.name).join(", ")}) => ${a.name}>`;return Kn(Me(s,u))},ea=e=>{e>9&&(ie[e+1]+=1)},ta=e=>{var t=oe.toValue(e);Qe(t),nt(e)},ra=(e,t)=>{e=kt(e,"_emval_take_value");var r=e.readValueFromPointer(t);return oe.toHandle(r)},na=(e,t,r,n)=>{var a=new Date().getFullYear(),o=new Date(a,0,1),u=new Date(a,6,1),s=o.getTimezoneOffset(),d=u.getTimezoneOffset(),y=Math.max(s,d);B[e>>2]=y*60,ce[t>>2]=+(s!=d);var C=W=>{var N=W>=0?"-":"+",Q=Math.abs(W),q=String(Math.floor(Q/60)).padStart(2,"0"),J=String(Q%60).padStart(2,"0");return`UTC${N}${q}${J}`},E=C(s),L=C(d);d<s?(Ce(E,r,17),Ce(L,n,17)):(Ce(E,n,17),Ce(L,r,17))},aa=()=>2147483648,ia=(e,t)=>Math.ceil(e/t)*t,oa=e=>{var t=D.buffer,r=(e-t.byteLength+65535)/65536|0;try{return D.grow(r),pt(),1}catch{}},sa=e=>{var t=R.length;e>>>=0;var r=aa();if(e>r)return!1;for(var n=1;n<=4;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math.min(r,ia(Math.max(e,a),65536)),u=oa(o);if(u)return!0}return!1},ot={},ua=()=>K||"./this.program",we=()=>{if(!we.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:ua()};for(var r in ot)ot[r]===void 0?delete t[r]:t[r]=ot[r];var n=[];for(var r in t)n.push(`${r}=${t[r]}`);we.strings=n}return we.strings},ca=(e,t)=>{for(var r=0;r<e.length;++r)A[t++]=e.charCodeAt(r);A[t]=0},la=(e,t)=>{var r=0;return we().forEach((n,a)=>{var o=t+r;B[e+a*4>>2]=o,ca(n,o),r+=n.length+1}),0},fa=(e,t)=>{var r=we();B[e>>2]=r.length;var n=0;return r.forEach(a=>n+=a.length+1),B[t>>2]=n,0},da=e=>52;function pa(e,t,r,n,a){return 70}var ha=[null,[],[]],va=(e,t)=>{var r=ha[e];t===0||t===10?((e===1?c:g)(jt(r)),r.length=0):r.push(t)},ma=(e,t,r,n)=>{for(var a=0,o=0;o<r;o++){var u=B[t>>2],s=B[t+4>>2];t+=8;for(var d=0;d<s;d++)va(e,R[u+d]);a+=s}return B[n>>2]=a,0},ya=e=>e;gt=f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},zr(),ve=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},tn(),ln(),Ot=f.UnboundTypeError=hn(Error,"UnboundTypeError"),Cn();var ga={s:xr,w:Ir,a:Ur,j:Lr,l:Fr,M:Wr,p:Br,ca:Vr,d:kr,Z:Hr,sa:Gr,Y:Nr,na:Jr,qa:vn,pa:yn,D:gn,la:wn,Q:_n,R:Sn,x:Tn,t:En,ra:An,ma:jn,N:Wn,J:Bn,ta:Vn,oa:Hn,fa:Gn,U:Nn,ua:nt,wa:Jn,_:Yn,S:ea,va:ta,ka:ra,$:na,da:sa,aa:la,ba:fa,ea:da,W:pa,P:ma,H:Fa,B:Ba,T:Sa,O:Ja,q:Ia,b:Ca,C:La,ha:Ha,c:$a,ga:Ga,h:_a,i:Aa,r:Ra,L:Ua,v:Da,G:za,I:ka,z:Va,F:Ka,X:Xa,V:Za,k:Ta,f:Pa,e:wa,g:ba,K:qa,m:Oa,ia:Wa,o:Ma,u:ja,ja:xa,A:Na,n:Ea,E:Qa,y:ya},z;jr();var Ut=e=>(Ut=z.za)(e),se=f._free=e=>(se=f._free=z.Aa)(e),st=f._malloc=e=>(st=f._malloc=z.Ca)(e),Lt=e=>(Lt=z.Da)(e),x=(e,t)=>(x=z.Ea)(e,t),Ft=e=>(Ft=z.Fa)(e),Wt=e=>(Wt=z.Ga)(e),Bt=()=>(Bt=z.Ha)(),Vt=e=>(Vt=z.Ia)(e),Ht=e=>(Ht=z.Ja)(e),Gt=(e,t,r)=>(Gt=z.Ka)(e,t,r);f.dynCall_viijii=(e,t,r,n,a,o,u)=>(f.dynCall_viijii=z.La)(e,t,r,n,a,o,u);var Nt=f.dynCall_jiii=(e,t,r,n)=>(Nt=f.dynCall_jiii=z.Ma)(e,t,r,n);f.dynCall_jiji=(e,t,r,n,a)=>(f.dynCall_jiji=z.Na)(e,t,r,n,a);var zt=f.dynCall_jiiii=(e,t,r,n,a)=>(zt=f.dynCall_jiiii=z.Oa)(e,t,r,n,a);f.dynCall_iiiiij=(e,t,r,n,a,o,u)=>(f.dynCall_iiiiij=z.Pa)(e,t,r,n,a,o,u),f.dynCall_iiiiijj=(e,t,r,n,a,o,u,s,d)=>(f.dynCall_iiiiijj=z.Qa)(e,t,r,n,a,o,u,s,d),f.dynCall_iiiiiijj=(e,t,r,n,a,o,u,s,d,y)=>(f.dynCall_iiiiiijj=z.Ra)(e,t,r,n,a,o,u,s,d,y);function ba(e,t,r,n){var a=k();try{U(e)(t,r,n)}catch(o){if(I(a),o!==o+0)throw o;x(1,0)}}function Ca(e,t){var r=k();try{return U(e)(t)}catch(n){if(I(r),n!==n+0)throw n;x(1,0)}}function wa(e,t,r){var n=k();try{U(e)(t,r)}catch(a){if(I(n),a!==a+0)throw a;x(1,0)}}function $a(e,t,r){var n=k();try{return U(e)(t,r)}catch(a){if(I(n),a!==a+0)throw a;x(1,0)}}function _a(e,t,r,n){var a=k();try{return U(e)(t,r,n)}catch(o){if(I(a),o!==o+0)throw o;x(1,0)}}function Sa(e,t,r,n,a){var o=k();try{return U(e)(t,r,n,a)}catch(u){if(I(o),u!==u+0)throw u;x(1,0)}}function Pa(e,t){var r=k();try{U(e)(t)}catch(n){if(I(r),n!==n+0)throw n;x(1,0)}}function Ta(e){var t=k();try{U(e)()}catch(r){if(I(t),r!==r+0)throw r;x(1,0)}}function Ea(e,t,r,n,a,o,u,s,d,y,C){var E=k();try{U(e)(t,r,n,a,o,u,s,d,y,C)}catch(L){if(I(E),L!==L+0)throw L;x(1,0)}}function Oa(e,t,r,n,a){var o=k();try{U(e)(t,r,n,a)}catch(u){if(I(o),u!==u+0)throw u;x(1,0)}}function Aa(e,t,r,n,a){var o=k();try{return U(e)(t,r,n,a)}catch(u){if(I(o),u!==u+0)throw u;x(1,0)}}function Ra(e,t,r,n,a,o){var u=k();try{return U(e)(t,r,n,a,o)}catch(s){if(I(u),s!==s+0)throw s;x(1,0)}}function Ma(e,t,r,n,a,o){var u=k();try{U(e)(t,r,n,a,o)}catch(s){if(I(u),s!==s+0)throw s;x(1,0)}}function Da(e,t,r,n,a,o,u){var s=k();try{return U(e)(t,r,n,a,o,u)}catch(d){if(I(s),d!==d+0)throw d;x(1,0)}}function ja(e,t,r,n,a,o,u,s){var d=k();try{U(e)(t,r,n,a,o,u,s)}catch(y){if(I(d),y!==y+0)throw y;x(1,0)}}function xa(e,t,r,n,a,o,u,s,d){var y=k();try{U(e)(t,r,n,a,o,u,s,d)}catch(C){if(I(y),C!==C+0)throw C;x(1,0)}}function Ia(e){var t=k();try{return U(e)()}catch(r){if(I(t),r!==r+0)throw r;x(1,0)}}function ka(e,t,r,n,a,o,u,s,d){var y=k();try{return U(e)(t,r,n,a,o,u,s,d)}catch(C){if(I(y),C!==C+0)throw C;x(1,0)}}function Ua(e,t,r,n,a,o,u){var s=k();try{return U(e)(t,r,n,a,o,u)}catch(d){if(I(s),d!==d+0)throw d;x(1,0)}}function La(e,t,r,n){var a=k();try{return U(e)(t,r,n)}catch(o){if(I(a),o!==o+0)throw o;x(1,0)}}function Fa(e,t,r,n){var a=k();try{return U(e)(t,r,n)}catch(o){if(I(a),o!==o+0)throw o;x(1,0)}}function Wa(e,t,r,n,a,o,u,s){var d=k();try{U(e)(t,r,n,a,o,u,s)}catch(y){if(I(d),y!==y+0)throw y;x(1,0)}}function Ba(e,t,r,n,a,o){var u=k();try{return U(e)(t,r,n,a,o)}catch(s){if(I(u),s!==s+0)throw s;x(1,0)}}function Va(e,t,r,n,a,o,u,s,d,y){var C=k();try{return U(e)(t,r,n,a,o,u,s,d,y)}catch(E){if(I(C),E!==E+0)throw E;x(1,0)}}function Ha(e,t,r){var n=k();try{return U(e)(t,r)}catch(a){if(I(n),a!==a+0)throw a;x(1,0)}}function Ga(e,t,r,n,a){var o=k();try{return U(e)(t,r,n,a)}catch(u){if(I(o),u!==u+0)throw u;x(1,0)}}function Na(e,t,r,n,a,o,u,s,d,y){var C=k();try{U(e)(t,r,n,a,o,u,s,d,y)}catch(E){if(I(C),E!==E+0)throw E;x(1,0)}}function za(e,t,r,n,a,o,u,s){var d=k();try{return U(e)(t,r,n,a,o,u,s)}catch(y){if(I(d),y!==y+0)throw y;x(1,0)}}function qa(e,t,r,n,a,o,u){var s=k();try{U(e)(t,r,n,a,o,u)}catch(d){if(I(s),d!==d+0)throw d;x(1,0)}}function Ja(e,t,r,n){var a=k();try{return U(e)(t,r,n)}catch(o){if(I(a),o!==o+0)throw o;x(1,0)}}function Ka(e,t,r,n,a,o,u,s,d,y,C,E){var L=k();try{return U(e)(t,r,n,a,o,u,s,d,y,C,E)}catch(W){if(I(L),W!==W+0)throw W;x(1,0)}}function Qa(e,t,r,n,a,o,u,s,d,y,C,E,L,W,N,Q){var q=k();try{U(e)(t,r,n,a,o,u,s,d,y,C,E,L,W,N,Q)}catch(J){if(I(q),J!==J+0)throw J;x(1,0)}}function Xa(e,t,r,n){var a=k();try{return Nt(e,t,r,n)}catch(o){if(I(a),o!==o+0)throw o;x(1,0)}}function Za(e,t,r,n,a){var o=k();try{return zt(e,t,r,n,a)}catch(u){if(I(o),u!==u+0)throw u;x(1,0)}}var Ie;ye=function e(){Ie||qt(),Ie||(ye=e)};function qt(){if(le>0||(gr(),le>0))return;function e(){var t;Ie||(Ie=!0,f.calledRun=!0,!j&&(br(),T(f),(t=f.onRuntimeInitialized)===null||t===void 0||t.call(f),Cr()))}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),e()},1)):e()}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();return qt(),P=O,P}})();function _i(i){return sr(ur,i)}async function Si(i,h){return $i(ur,i,h)}const cr=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],Pi=[...cr,["unknown"]].map(i=>i[0]),lt=new Map(cr);function Ti(i){for(const[h,b]of lt)if(i===b)return h;return"unknown"}function Ei(i){if(lr(i))return{width:i.naturalWidth,height:i.naturalHeight};if(fr(i))return{width:i.width.baseVal.value,height:i.height.baseVal.value};if(dr(i))return{width:i.videoWidth,height:i.videoHeight};if(hr(i))return{width:i.width,height:i.height};if(mr(i))return{width:i.displayWidth,height:i.displayHeight};if(pr(i))return{width:i.width,height:i.height};if(vr(i))return{width:i.width,height:i.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function lr(i){var h,b;try{return i instanceof((b=(h=i==null?void 0:i.ownerDocument)==null?void 0:h.defaultView)==null?void 0:b.HTMLImageElement)}catch{return!1}}function fr(i){var h,b;try{return i instanceof((b=(h=i==null?void 0:i.ownerDocument)==null?void 0:h.defaultView)==null?void 0:b.SVGImageElement)}catch{return!1}}function dr(i){var h,b;try{return i instanceof((b=(h=i==null?void 0:i.ownerDocument)==null?void 0:h.defaultView)==null?void 0:b.HTMLVideoElement)}catch{return!1}}function pr(i){var h,b;try{return i instanceof((b=(h=i==null?void 0:i.ownerDocument)==null?void 0:h.defaultView)==null?void 0:b.HTMLCanvasElement)}catch{return!1}}function hr(i){try{return i instanceof ImageBitmap||Object.prototype.toString.call(i)==="[object ImageBitmap]"}catch{return!1}}function vr(i){try{return i instanceof OffscreenCanvas||Object.prototype.toString.call(i)==="[object OffscreenCanvas]"}catch{return!1}}function mr(i){try{return i instanceof VideoFrame||Object.prototype.toString.call(i)==="[object VideoFrame]"}catch{return!1}}function Oi(i){try{return i instanceof Blob||Object.prototype.toString.call(i)==="[object Blob]"}catch{return!1}}function Ai(i){try{return i instanceof ImageData||Object.prototype.toString.call(i)==="[object ImageData]"}catch{return!1}}function Ri(i,h){try{const b=new OffscreenCanvas(i,h);if(b.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return b;throw void 0}catch{const b=document.createElement("canvas");return b.width=i,b.height=h,b}}async function yr(i){if(lr(i)&&!await xi(i))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(fr(i)&&!await Ii(i))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(mr(i)&&ki(i))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(dr(i)&&(i.readyState===0||i.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(hr(i)&&Li(i))throw new DOMException("The image source is detached.","InvalidStateError");const{width:h,height:b}=Ei(i);if(h===0||b===0)return null;const P=Ri(h,b).getContext("2d");P.drawImage(i,0,0);try{return P.getImageData(0,0,h,b)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Mi(i){let h;try{h=await createImageBitmap(i)}catch{try{if(globalThis.Image){h=new Image;let b="";try{b=URL.createObjectURL(i),h.src=b,await h.decode()}finally{URL.revokeObjectURL(b)}}else return i}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await yr(h)}function Di(i){const{width:h,height:b}=i;if(h===0||b===0)return null;const P=i.getContext("2d");try{return P.getImageData(0,0,h,b)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ji(i){if(Oi(i))return await Mi(i);if(Ai(i)){if(Ui(i))throw new DOMException("The image data has been detached.","InvalidStateError");return i}return pr(i)||vr(i)?Di(i):await yr(i)}async function xi(i){try{return await i.decode(),!0}catch{return!1}}async function Ii(i){var h;try{return await((h=i.decode)==null?void 0:h.call(i)),!0}catch{return!1}}function ki(i){return i.format===null}function Ui(i){return i.data.buffer.byteLength===0}function Li(i){return i.width===0&&i.height===0}function ar(i,h){return Fi(i)?new DOMException(`${h}: ${i.message}`,i.name):Wi(i)?new i.constructor(`${h}: ${i.message}`):new Error(`${h}: ${i}`)}function Fi(i){return i instanceof DOMException||Object.prototype.toString.call(i)==="[object DOMException]"}function Wi(i){return i instanceof Error||Object.prototype.toString.call(i)==="[object Error]"}var Be;class Bi{constructor(h={}){ai(this,Be);var b;try{const P=(b=h==null?void 0:h.formats)==null?void 0:b.filter(f=>f!=="unknown");if((P==null?void 0:P.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const f of P??[])if(!lt.has(f))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${f}' is not a valid enum value of type BarcodeFormat.`);ii(this,Be,P??[]),_i({fireImmediately:!0}).catch(()=>{})}catch(P){throw ar(P,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Pi.filter(h=>h!=="unknown")}async detect(h){try{const b=await ji(h);if(b===null)return[];let P;const f={tryCode39ExtendedMode:!1,textMode:"Plain",formats:ni(this,Be).map(T=>lt.get(T))};try{P=await Si(b,f)}catch(T){throw console.error(T),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return P.map(T=>{const{topLeft:{x:_,y:O},topRight:{x:S,y:M},bottomLeft:{x:V,y:H},bottomRight:{x:K,y:p}}=T.position,$=Math.min(_,S,V,K),m=Math.min(O,M,H,p),v=Math.max(_,S,V,K),l=Math.max(O,M,H,p);return{boundingBox:new DOMRectReadOnly($,m,v-$,l-m),rawValue:T.text,format:Ti(T.format),cornerPoints:[{x:_,y:O},{x:S,y:M},{x:K,y:p},{x:V,y:H}]}})}catch(b){throw ar(b,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Be=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=Bi);export{Bi as R,Vi as a,Hi as g,Gi as s,Ni as u};
