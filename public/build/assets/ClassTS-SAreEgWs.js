import{r as v,j as e,U as b}from"./app-MQ-yEurC.js";import{E as d}from"./EachMethod-DlQbtg5B.js";import{S as o}from"./sweetalert2.esm.all-DPJM2oV6.js";import{R as j}from"./ReactTable-CiiRreiS.js";import{D as g}from"./DashboardLayout-Q83-rxtQ.js";import{Q as p}from"./browser-Bt5TlLty.js";import"./index-FTPeQx5Q.js";import"./Dropdown-DtFVle0_.js";import"./transition-CQN9Mefa.js";import"./index-DzSybp8L.js";class G extends v.Component{constructor(a){super(a),this.state={classroom_temp:this.props.classroom,classroom:[],subjects:this.props.subjects,teachers:this.props.teacher,advisoryList:this.props.advisory,sectionListTemp:this.props.sections,sectionList:[],yeargrade_temp:this.props.schoolyeargrades,yeargrade:[],data:this.props.class,data_users:[],columns:[{id:"no",accessor:"index",Header:"No.",width:50,className:"center"},{id:"level",Header:"Level",accessor:"level",className:"center",width:126},{id:"grade",Header:"Grade",width:126,accessor:"grade"},{id:"classroom",Header:"Classroom No.",width:100,accessor:"classroom",className:"center"},{id:"section",Header:"Section Name",width:300,accessor:"section_name",className:"center"},{id:"track",Header:"TRACK",width:300,accessor:"track",className:"center"},{id:"strand",Header:"STRAND",width:300,accessor:"strands",className:"center"},{id:"schoolyear",Header:"School Year",width:300,accessor:"school_year",className:"center"},{id:"action",Header:"Action",width:140,accessor:"index",className:"center",Cell:({row:s})=>e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-danger btn-block btn-sm col-12 mb-1",onClick:()=>{this.delete(s.original.id)},children:[" ",e.jsx("i",{className:"bi bi-person-fill-x"})," Remove"]}),e.jsxs("button",{onClick:()=>{$("#uyearlevel").val(""),$("#ugrade").val(""),$("#uclassroom").val(""),$("#uschoolyear").val(""),$("#uflsh_track").val(""),$("#uflsh_strand").val(""),$("#usectionname").val(""),this.selectData(s.original)},className:"btn btn-primary btn-block btn-sm col-12 mb-1",children:[" ",e.jsx("i",{className:"bi bi-pen"})," Edit"]}),typeof s.original.qr_code<"u"&&s.original.qr_code!=null?e.jsxs("button",{className:"btn btn-info btn-block btn-sm col-12 mb-1",onClick:async()=>{if(typeof s.original.qr_code<"u"&&s.original.qr_code!=null){await this.generateQR(s.original.qr_code);let t="";try{t=this.state.classroom_temp.find(l=>l.id==s.original.classroom_id).room_number}catch{}this.setState({room_name:s.original.section_name,room_number:t}),$("#qrcode").modal("show")}},children:[" ",e.jsx("i",{className:"bi bi-qr-code"})," QR"]}):null]})}],id:"",room_no:"",floor_no:"",building_no:"",description:"",selectedData:{},track:this.props.track,strand:this.props.strand,qr_code:"",qr_code_data:"",room_name:"",room_number:""},console.log(this.props),this.delete=this.delete.bind(this),this.saveData=this.saveData.bind(this),this.updateData=this.updateData.bind(this),this.selectSubject=this.selectData.bind(this),this.getAllData=this.getAllData.bind(this),this.generateQR=this.generateQR.bind(this)}componentDidMount(){this.getAllData(),this.state.data.length>0&&this.setState({classroom:this.state.classroom_temp.filter(a=>!this.state.data.some(s=>s.classroom_id==a.id))})}async generateQR(a){let s=this;try{let t=await p.toDataURL(a,{errorCorrectionLevel:"H",width:500});s.setState({qr_code:a,qr_code_data:t})}catch(t){console.error(t)}}selectData(a){let s=this;if(console.log(a),a.level=="Junior"){let t=s.state.yeargrade_temp.filter(l=>l.year_grade=="Grade 7"||l.year_grade=="Grade 8"||l.year_grade=="Grade 9"||l.year_grade=="Grade 10");s.setState({yeargrade:t})}else{let t=s.state.yeargrade_temp.filter(l=>l.year_grade=="Grade 11"||l.year_grade=="Grade 12");s.setState({yeargrade:t})}$("#uyearlevel").val(a.level),$("#ugrade").val(a.grade_id),$("#uschoolyear").val(a.school_year),$("#uflsh_track").val(a.track),$("#uflsh_strand").val(a.strands),$("#usectionname").val(a.section_name),this.setState({selectedData:a,classroom:this.state.classroom_temp},()=>{$("#updateClass").modal("show"),setTimeout(()=>{$("#ugrade").val(a.grade_id),$("#uclassroom").val(a.classroom_id),$("#uschoolyear").val(a.school_year),$("#uflsh_track").val(a.track),$("#uflsh_strand").val(a.strands),$("#usectionname").val(a.section_name)},1e3)})}getAllData(){let a=this;axios.get("/tsclass").then(function(s){if(console.log(s),typeof s.status<"u"&&s.status=="200"){let t=typeof s.data<"u"&&typeof s.data<"u"?s.data:{};Object.keys(t).length>0?a.setState({classroom_temp:t.classroom,classroom:[],subjects:t.subjects,teachers:t.teacher,advisoryList:t.advisory,sectionListTemp:t.sections,sectionList:[],yeargrade_temp:t.schoolyeargrades,yeargrade:[],data:t.class},()=>{a.state.data.length>0&&a.setState({classroom:a.state.classroom_temp.filter(l=>!a.state.data.some(i=>i.classroom_id==l.id))})}):a.setState({data:[]})}})}saveData(){let a=this,s=$("#yearlevel").val(),t=$("#grade").val(),l=$("#classroom").val(),i=$("#schoolyear").val(),c=$("#flsh_track").val(),h=$("#flsh_strand").val(),f=$("#sectionname").val();s!=""&&t!=""&&l!=""&&i!=""&&o.fire({title:"If all fields are correct and please click to continue to save",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"warning",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(n=>{if(n.isConfirmed){o.fire({title:`Saving Records.
Please wait.`,html:'<i class="fa fa-times-circle-o"></i>&nbsp;&nbsp;Close',showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{o.showLoading()}});let u={yearlevel:s,grade:t,classroom:l,schoolyear:i,flsh_track:c,flsh_strand:h,section_name:f};console.log(u),axios.post("/tsclass",u).then(async function(r){if(console.log(r),typeof r.status<"u"&&r.status=="201")(typeof r.data<"u"&&typeof r.data<"u"?r.data:{}).status=="success"?o.fire({title:"Successfuly save!",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(x){x.isConfirmed&&(o.close(),$("#yearlevel").val(""),$("#grade").val(""),$("#classroom").val(""),$("#schoolyear").val(""),$("#flsh_track").val(""),$("#flsh_strand").val(""),$("#sectionname").val(""),$("#newClass").modal("hide"),a.getAllData())}):o.fire({title:"Fail to save",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0});else if(typeof r.status<"u"&&r.status=="200"){let m=typeof r.data<"u"&&typeof r.data<"u"?r.data:{};(m.status="data_exist")&&o.fire({title:"Data Exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}else typeof r.status<"u"&&r.status=="422"}).catch(function(r){console.log(r),o.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})}else n.isDismissed;return!1})}updateData(){let a=this,s=$("#uyearlevel").val(),t=$("#ugrade").val(),l=$("#uclassroom").val(),i=$("#uschoolyear").val(),c=$("#uflsh_track").val(),h=$("#uflsh_strand").val(),f=$("#usectionname").val();s!=""&&t!=""&&l!=""&&i!=""&&c!=""&&h!=""?o.fire({title:"If all fields are correct and please click to continue to save",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"warning",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(n=>{if(n.isConfirmed){o.fire({title:`Saving Records.
Please wait.`,html:'<i class="fa fa-times-circle-o"></i>&nbsp;&nbsp;Close',showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{o.showLoading()}});let u={id:a.state.selectedData.id,yearlevel:s,grade:t,classroom:l,schoolyear:i,flsh_track:c,flsh_strand:h,section_name:f};axios.post("/tsclass/update",u).then(async function(r){if(console.log(r),typeof r.status<"u"&&r.status=="201")(typeof r.data<"u"&&typeof r.data<"u"?r.data:{}).status=="success"?o.fire({title:"Successfuly save!",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continue",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(x){x.isConfirmed&&(o.close(),$("#updateClass").modal("hide"),a.getAllData())}):o.fire({title:"Fail to save",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0});else if(typeof r.status<"u"&&r.status=="200"){let m=typeof r.data<"u"&&typeof r.data<"u"?r.data:{};(m.status="data_exist")&&o.fire({title:"Data Exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}else typeof r.status<"u"&&r.status=="422"}).catch(function(r){console.log(r),o.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})}else n.isDismissed;return!1}):(subject_name==""&&($("#usubject_name-alert").removeAttr("class"),$("#usubject_name-alert").html("Required Field"),$("#usubject_name-alert").addClass("d-block invalid-feedback")),description==""&&($("#udescription-alert").removeAttr("class"),$("#udescription-alert").html("Required Field"),$("#udescription-alert").addClass("d-block invalid-feedback")))}delete(a){let s=this;o.fire({title:"Are you sure to remove this data?",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Yes",confirmButtonColor:"red",icon:"question",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(t=>{t.isConfirmed?(o.fire({title:`Removing Records.
Please wait.`,showCancelButton:!1,showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{o.showLoading()}}),console.log(a),axios.delete("/tsclass",{data:{id:a}}).then(function(l){if(console.log(l),typeof l.status<"u"&&l.status=="201"){let i=typeof l.data<"u"&&typeof l.data<"u"?l.data:{};(i.status="sucess")?(s.getAllData(),o.fire({title:"Successfuly remove!",showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Ok",icon:"success",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0}).then(function(c){c.isConfirmed&&o.close()})):o.fire({title:"Fail to remove",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!1,closeOnClickOutside:!1,dangerMode:!0})}else if(typeof l.status<"u"&&l.status=="200"){let i=typeof l.data<"u"&&typeof l.data<"u"?l.data:{};(i.status="data_not_exist")&&o.fire({title:"Data Not Exist",cancelButtonText:"Ok",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})}}).catch(function(l){console.log(l),o.fire({title:"Server Error",showCancelButton:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonText:"Ok",confirmButtonText:"Continue",confirmButtonColor:"#DD6B55",icon:"error",showLoaderOnConfirm:!0,closeOnClickOutside:!1,dangerMode:!0})})):o.close()})}render(){return e.jsxs(g,{title:"Student",user:this.props.auth.user,children:[e.jsxs("div",{className:"noselect",children:[e.jsx("div",{className:"app-content-header",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("h3",{className:"mb-0",children:[e.jsx("i",{className:"nav-icon bi bi-people-fill"})," Class"]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("ol",{className:"breadcrumb float-sm-end",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(b,{href:"/admin/dashboard",children:"Dashboard"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Class"})]})})]})})}),e.jsx("div",{className:"app-content",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[" ",e.jsx("i",{className:"bi bi-people-fill"})," Class List"]}),e.jsxs("button",{className:"btn btn-primary float-right mr-1",onClick:()=>{this.setState({classroom:this.state.classroom_temp.filter(a=>!this.state.data.some(s=>s.classroom_id==a.id))}),$("#newClass").modal("show")},children:[" ",e.jsx("i",{className:"bi bi-plus"})," Add"]})]}),e.jsx("div",{className:"card-body",children:e.jsx(j,{className:"table table-bordered table-striped ",data:this.state.data,columns:this.state.columns},"react-tables")})]})})})})})]}),e.jsx("datalist",{id:"selectedYearLevel",children:e.jsx(d,{of:this.state.yeargrade,render:(a,s)=>e.jsx("option",{children:`${a.year_grade}`})})}),e.jsx("datalist",{id:"selectedSection",children:e.jsx(d,{of:this.state.sectionList,render:(a,s)=>e.jsx("option",{children:`${a.section_name}`})})}),e.jsx("datalist",{id:"selectedSY",children:e.jsx("option",{children:"2025 - 2026"})}),e.jsx("datalist",{id:"selectedSubject",children:e.jsx(d,{of:this.state.teachers,render:(a,s)=>e.jsx("option",{children:`${a.last_name}, ${a.first_name}`})})}),e.jsxs("datalist",{id:"selectedYearLevel",children:[e.jsx("option",{children:"Grade 7"}),e.jsx("option",{children:"Grade 8"}),e.jsx("option",{children:"Grade 9"}),e.jsx("option",{children:"Grade 10"}),e.jsx("option",{children:"Grade 11"}),e.jsx("option",{children:"Grade 12"})]}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"newClass","aria-hidden":"true","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"New Class"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"yearlevel",className:"form-label",children:"Level"}),e.jsxs("select",{name:"yearlevel",id:"yearlevel",className:"form-control",onChange:a=>{if(a.target.value!=""&&this.setState({selectedLevel:a.target.value}),a.target.value=="Junior"){let s=this.state.yeargrade_temp.filter(t=>t.year_grade=="Grade 7"||t.year_grade=="Grade 8"||t.year_grade=="Grade 9"||t.year_grade=="Grade 10");this.setState({yeargrade:s}),$("#flsh_track").attr("disabled","disabled"),$("#flsh_strand").attr("disabled","disabled")}else{let s=this.state.yeargrade_temp.filter(t=>t.year_grade=="Grade 11"||t.year_grade=="Grade 12");this.setState({yeargrade:s}),$("#uflsh_track").removeAttr("disabled"),$("#flsh_strand").removeAttr("disabled")}},children:[e.jsx("option",{disabled:!0,children:"--Select Level--"}),e.jsx("option",{value:""}),e.jsx("option",{children:"Junior"}),e.jsx("option",{children:"Senior"})]}),e.jsx("div",{id:"yearlevel-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"grade",className:"form-label",children:"Grade"}),e.jsxs("select",{name:"grade",id:"grade",className:"form-control",onChange:a=>{$("#grade-alert").removeAttr("class").addClass("invalid-feedback"),a.target.value!=""&&this.setState({selectedGrade:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"--Select Grade--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.yeargrade,render:(a,s)=>e.jsx("option",{value:`${a.id}`,children:`${a.year_grade}`})})]}),e.jsx("div",{id:"grade-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"section",className:"form-label",children:"Classroom No."}),e.jsxs("select",{name:"classroom",id:"classroom",className:"form-control",onChange:a=>{$("#grade-alert").removeAttr("class").addClass("invalid-feedback"),a.target.value!=""&&this.setState({selectedClassroom:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"--Select Classroom--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.classroom,render:(a,s)=>e.jsx("option",{value:`${a.id}`,children:`${a.room_number}`})})]}),e.jsx("div",{id:"section-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"sectionname",className:"form-label",children:"Room Name"}),e.jsx("input",{type:"text",className:"form-control",id:"sectionname",defaultValue:"",required:"",onChange:a=>{$("#sectionname-alert").removeAttr("class").addClass("invalid-feedback")}}),e.jsx("div",{id:"sectionname-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"schoolyear",className:"form-label",children:"School Year"}),e.jsx("input",{type:"text",className:"form-control",list:"selectedSY",id:"schoolyear",defaultValue:"",required:"",onChange:a=>{$("#teacher-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedSY:a.target.value})}}),e.jsx("div",{id:"schoolyear-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"flsh_track",className:"form-label",children:"Track"}),e.jsxs("select",{name:"flsh_track",id:"flsh_track",className:"form-control",onChange:a=>{$("#flsh_track-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_track:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.track,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"flsh_track-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"flsh_strand",className:"form-label",children:"Strand"}),e.jsxs("select",{name:"flsh_strand",id:"flsh_strand",className:"form-control",onChange:a=>{$("#flsh_strand-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_strand:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.strand,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"flsh_strand-alert",className:"valid-feedback",children:"Looks good!"})]})]})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{className:"btn btn-success float-right mr-1",onClick:()=>{this.saveData()},children:[" ",e.jsx("i",{className:"bi bi-save"})," Save"]}),e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"updateClass","aria-hidden":"true","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"Update Class"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"yearlevel",className:"form-label",children:"Level"}),e.jsxs("select",{name:"uyearlevel",id:"uyearlevel",className:"form-control",onChange:a=>{if(a.target.value!=""&&this.setState({selectedLevel:a.target.value}),a.target.value=="Junior"){let s=this.state.yeargrade_temp.filter(t=>t.year_grade=="Grade 7"||t.year_grade=="Grade 8"||t.year_grade=="Grade 9"||t.year_grade=="Grade 10");this.setState({yeargrade:s})}else{let s=this.state.yeargrade_temp.filter(t=>t.year_grade=="Grade 11"||t.year_grade=="Grade 12");this.setState({yeargrade:s})}},children:[e.jsx("option",{disabled:!0,children:"--Select Level--"}),e.jsx("option",{value:""}),e.jsx("option",{children:"Junior"}),e.jsx("option",{children:"Senior"})]}),e.jsx("div",{id:"uyearlevel-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"ugrade",className:"form-label",children:"Grade"}),e.jsxs("select",{name:"ugrade",id:"ugrade",className:"form-control",onChange:a=>{$("#grade-alert").removeAttr("class").addClass("invalid-feedback"),a.target.value!=""&&this.setState({selectedGrade:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"--Select Grade--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.yeargrade,render:(a,s)=>e.jsx("option",{value:`${a.id}`,children:`${a.year_grade}`})})]}),e.jsx("div",{id:"ugrade-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"uclassroom",className:"form-label",children:"Classroom"}),e.jsxs("select",{name:"uclassroom",id:"uclassroom",className:"form-control",onChange:a=>{$("#grade-alert").removeAttr("class").addClass("invalid-feedback"),a.target.value!=""&&this.setState({selectedClassroom:a.target.value})},children:[e.jsx("option",{disabled:!0,children:"--Select Classroom--"}),e.jsx("option",{value:""}),e.jsx(d,{of:this.state.classroom,render:(a,s)=>e.jsx("option",{value:`${a.id}`,children:`${a.room_number}`})})]}),e.jsx("div",{id:"uclassroom-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"usectionname",className:"form-label",children:"Room Name"}),e.jsx("input",{type:"text",className:"form-control",id:"usectionname",defaultValue:"",required:"",onChange:a=>{$("#usectionname-alert").removeAttr("class").addClass("invalid-feedback")}}),e.jsx("div",{id:"usectionname-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"uschoolyear",className:"form-label",children:"School Year"}),e.jsx("input",{type:"text",className:"form-control",list:"selectedSY",id:"uschoolyear",defaultValue:"",required:"",onChange:a=>{$("#uschoolyear-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({selectedSY:a.target.value})}}),e.jsx("div",{id:"uschoolyear-alert",className:"invalid-feedback",children:"Please select a valid state."})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"uflsh_track",className:"form-label",children:"Track"}),e.jsxs("select",{name:"uflsh_track",id:"uflsh_track",className:"form-control",onChange:a=>{$("#uflsh_track-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_track:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.track,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"uflsh_track-alert",className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{htmlFor:"uflsh_strand",className:"form-label",children:"Strand"}),e.jsxs("select",{name:"uflsh_strand",id:"uflsh_strand",className:"form-control",onChange:a=>{$("#uflsh_strand-alert").removeAttr("class").addClass("invalid-feedback"),this.setState({flsh_strand:a.target.value})},children:[e.jsx("option",{value:""}),e.jsx(d,{of:this.state.strand,render:(a,s)=>e.jsx("option",{children:`${a.name} ${a.acronyms!=""?"("+a.acronyms+")":""}`})})]}),e.jsx("div",{id:"uflsh_strand-alert",className:"valid-feedback",children:"Looks good!"})]})]})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{className:"btn btn-success float-right mr-1",onClick:()=>{this.updateData()},children:[" ",e.jsx("i",{className:"bi bi-save"})," Update"]}),e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"qrcode","aria-hidden":"false","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"QR"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row g-3",children:e.jsx("div",{className:"my-qr-code ",children:e.jsxs("div",{className:"my-qr-code-content",children:[e.jsxs("div",{className:"center",children:[e.jsx("strong",{children:this.state.room_name.toLocaleUpperCase()}),e.jsx("br",{}),e.jsxs("strong",{children:["Room No.:",this.state.room_number.toLocaleUpperCase()]})]}),e.jsx("img",{src:this.state.qr_code_data,className:"mx-auto"})]})})})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{let a=window.open();a.document.write($(".my-qr-code").html()),a.print(),a.close()},children:[e.jsx("i",{className:"bi bi-printer"})," Print"]}),e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})}),e.jsx("div",{className:"modal fade",tabIndex:"-1",role:"dialog",id:"qrcode_print","aria-hidden":"false","data-bs-backdrop":"static",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title fs-5",children:"QR"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row g-3",children:e.jsx("div",{className:"my-qr-code ",children:e.jsxs("div",{className:"my-qr-code-content",children:[e.jsxs("div",{className:"center",children:[e.jsx("strong",{children:this.state.room_name.toLocaleUpperCase()}),e.jsx("br",{}),e.jsxs("strong",{children:["Room No.:",this.state.room_number.toLocaleUpperCase()]})]}),e.jsx("img",{src:this.state.qr_code_data,className:"mx-auto"})]})})})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-primary",children:[e.jsx("i",{className:"bi bi-printer"})," Print"]}),e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})})]})}}export{G as default};
